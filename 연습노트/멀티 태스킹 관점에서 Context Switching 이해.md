---
tags:
  - 미완
  - OS
aliases: 
date: 2024-12-13
title: 멀티 태스킹 관점에서 Context Switching 이해
---
---

## 내용(Content)

### 멀티태스킹에서 컨텍스트 스위칭 동작

멀티태스킹은 **CPU가 여러 작업(프로세스 또는 스레드)을 동시에 처리하는 것처럼 보이게 하는 기술**이다. 하지만 CPU는 한 번에 하나의 작업만 실행할 수 있기 때문에 **컨텍스트 스위칭**을 통해 작업을 빠르게 전환하며 이를 구현한다.

### 멀티태스킹 관점에서 컨텍스트 스위칭의 동작 과정


1. **작업 실행 중 (CPU 점유)**
    
    - 한 프로세스(또는 스레드)가 CPU를 점유하고 명령어를 실행합니다.
    - 이 작업이 I/O를 기다리거나 CPU 점유 시간이 초과되면, 컨텍스트 스위칭이 발생합니다.
2. **인터럽트 발생**
    
    - CPU가 작업을 중단하고 현재 프로세스를 저장해야 하는 시점입니다. 이는 다음과 같은 이벤트로 인해 발생합니다:
        - [[타이머 인터럽트#^7b2650|타이머 인터럽트]] (지정된 시간 초과)
        - I/O 요청 완료
        - 다른 높은 우선순위 작업 도착
3. **현재 작업 상태 저장**
    
    - **프로세스 제어 블록(PCB)**에 현재 작업의 상태를 저장합니다. 저장 내용은 다음과 같습니다:
        - CPU 레지스터 값
        - 프로그램 카운터(PC, 현재 실행 중인 명령어의 주소)
        - 메모리 상태 및 스택 포인터
4. **스케줄러 호출**
    
    - 운영 체제(OS)의 **스케줄러**가 실행됩니다. 이는 다음 실행할 작업을 결정하는 역할을 합니다.
    - 스케줄링 기준: 라운드 로빈, 우선순위, 선점형 방식 등.
5. **다음 작업 상태 복원**
    
    - 선택된 작업의 PCB를 참조하여, 저장된 레지스터 값, 프로그램 카운터, 메모리 상태를 복원합니다.
6. **CPU 제어권 전달**
    
    - 복원된 작업이 실행을 시작하며 CPU 점유권을 가집니다.

이 과정이 반복되면서 CPU는 여러 작업을 "동시에 처리"하는 것처럼 보이게 됩니다.

### **멀티태스킹에서 컨텍스트 스위칭이 중요한 이유**

1. **CPU 자원 최적화**
    
    - CPU가 한 작업의 I/O 대기를 기다리는 동안 다른 작업을 실행하여 효율을 높입니다.
2. **사용자 경험**
    
    - 여러 프로그램(예: 웹 브라우저, 음악 플레이어, 텍스트 에디터)이 "동시에" 실행되는 것처럼 느끼게 합니다.
3. **실시간 처리**
    
    - 높은 우선순위 작업을 빠르게 처리할 수 있는 환경을 제공합니다.

### **멀티태스킹과 컨텍스트 스위칭의 한계**

- **오버헤드**: 컨텍스트 스위칭은 저장 및 복원 작업으로 인해 추가적인 CPU 시간을 소모합니다.
- **캐시 손실**: 작업 간 전환 시 CPU 캐시 데이터가 무효화되며, 재로딩으로 성능 저하가 발생할 수 있습니다.

## 질문 & 확장

(없음)

## 출처(링크)


## 연결 노트

- reference::[[타이머 인터럽트]]




