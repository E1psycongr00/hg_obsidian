작성 날짜: 2023-12-05
작성 시간: 16:23

## 주제: #미완 #부하테스트 #K6

----
## 내용(Content)

### K6
성능 테스트 도구 중 하나로 JMeter와 더불어 인기 있는 테스트 툴 중 하나이다. 

K6의 특징은 다음과 같다.

1. 문서가 잘 되어 있다.
2. 스크립트를 js, ts로 작성할 수 있다
3. JMeter는 가상 사용자 당 1 쓰레드를 사용하지만 k6는 goroutine 1개를 이용한다. goroutine의 경량화된 쓰레드는 JMeter 의 1쓰레드보다 효율적으로 동작한다.

### K6 설치하기

[k6 설치 링크](https://k6.io/docs/get-started/installation/) 

해당 링크대로 설치한다. 

windows의 경우 powershell에서 choco install k6 해주면 된다.

### K6 매트릭

#### 기본 매트릭()

|METRIC NAME|TYPE|설명|
|---|---|---|
|vus|Gauge|현재 활성화된 가상 사용자 수|
|vus_max|Gauge|가능한 최대 가상 사용자 수 (성능에 영향을 주지 않도록 VU 리소스는 미리 할당됨)|
|iterations|Counter|가상 사용자가 JS 스크립트 (기본 함수)를 실행한 총 횟수|
|iteration_duration|Trend|한 번의 완전한 반복을 완료하는 데 걸리는 시간, 설정 및 해체에 소요되는 시간을 포함|
|dropped_iterations|Counter|VU 또는 시간 부족으로 시작되지 않은 반복 횟수|
|data_received|Counter|수신된 데이터의 양|
|data_sent|Counter|전송된 데이터의 양|
|checks|Rate|성공적인 체크의 비율|

#### Http 관련 매트릭(Http 요청할때만 생성)

|METRIC NAME|TYPE|설명|
|---|---|---|
|http_reqs|Counter|k6가 생성한 총 HTTP 요청 수|
|http_req_blocked|Trend|요청을 시작하기 전에 차단된(무료 TCP 연결 슬롯을 기다리는) 시간|
|http_req_connecting|Trend|원격 호스트에 TCP 연결을 설정하는 데 걸린 시간|
|http_req_tls_handshaking|Trend|원격 호스트와 TLS 세션을 핸드셰이킹하는 데 걸린 시간|
|http_req_sending|Trend|원격 호스트에 데이터를 전송하는 데 걸린 시간.|
|http_req_waiting|Trend|원격 호스트의 응답을 기다리는 데 걸린 시간|
|http_req_receiving|Trend|원격 호스트로부터 응답 데이터를 받는 데 걸린 시간|
|http_req_duration|Trend|요청에 걸린 총 시간. (http_req_sending + http_req_waiting + http_req_receiving)|
|http_req_failed|Rate|setResponseCallback에 따른 실패한 요청의 비율|


## 질문 & 확장

(없음)

## 출처(링크)
- https://velog.io/@hooni_/K6-%EC%84%B1%EB%8A%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8
- https://k6.io/docs/get-started/installation/
- https://velog.io/@heka1024/Grafana-k6%EC%9C%BC%EB%A1%9C-%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EA%B8%B0#grafana%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%8B%9C%EA%B0%81%ED%99%94
## 연결 노트










