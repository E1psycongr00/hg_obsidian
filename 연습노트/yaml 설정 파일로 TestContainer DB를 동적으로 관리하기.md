---
tags:
  - 미완
  - 솔루션
  - JAVA
  - Spring
  - JOOQ
  - 테스트
aliases: 
date: 2024-11-04
title: yaml 설정 파일로 TestContainer DB를 동적으로 관리하기
---
작성 날짜: 2024-11-04
작성 시간: 21:17


----

## 문제 & 원인

프로젝트를 하다보면 DB를 마이그레이션할 때도 있고, 특정 DB에 의존되지 않는 Application을 설계하고 싶을 때도 있다. 이런 경우 DB와 관련된 IntegrationTest에서 특별한 코드 변경 없이, Application.yml의 설정 파일 수정만으로 DB를 바꿔서 테스트하고 싶을 수 있다.

static 컨테이너를 생성하면서 메모리 효율은 높이고, 특별한 코드 수정 없이 DB 를 수정하는 방법을 생각해보자.


## 해결 방안

해결하기 위해 해야 할 일은 다음과 같다.

- static 블록을 통해 클래스 로드 타임에 컨테이너를 초기화한다.
- 컨테이너를 초기화하기 위해 application.yml에서 정보를 직접 추출해서 등록한다.
- 팩
- 


## 질문 & 확장

(없음)

## 출처(링크)


## 연결 노트
