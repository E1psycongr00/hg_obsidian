---
tags:
  - 객체지향
  - 객체지향설계
aliases: 
created: 2025-04-17
title: 📚 책임 할당하기 (오브젝트 - 조용호)
note-type: REF
from: Book
---

## 출처

- $ 오브젝트 - 코드로 이해하는 객체 지향 설계 by 조용호: p.133 ~ p.174

## 요약

**책임 할당하기**는 객체지향 설계에서 협력에 적합한 책임을 객체에 할당하는 과정을 다룬다. 조영호의 _오브젝트_에서는 책임 주도 설계(RDD, Responsibility-Driven Design)를 통해 메시지 중심의 설계가 강조된다. 주요 내용은 다음과 같다:

1. **책임 주도 설계**:
    - 책임은 협력에 적합해야 하며, 객체의 입장이 아닌 협력의 맥락에서 결정된다.
    - 메시지를 먼저 정의하고, 그 메시지를 처리할 객체를 선택하는 방식이 중요하다. 이는 클래스 기반 설계보다 유연한 애플리케이션을 만든다.
    - 클라이언트는 메시지를 보내는 대상을 명확히 알 필요 없이, 메시지를 처리할 객체가 책임을 할당받는다.
2. **GRASP 패턴**:
    - **Information Expert**: 책임을 수행할 정보를 가진 객체에 책임을 할당한다. 정보는 저장뿐 아니라 계산이나 다른 객체로부터 제공받을 수도 있다.
    - **Creator**: 객체 생성 책임은 생성할 객체와 밀접한 관계(포함, 참조, 사용, 초기화 데이터 보유)를 가진 객체에 할당한다. 이는 결합도를 낮춘다.
    - **Polymorphism**: 타입별 다형적 행동을 통해 조건 논리(if-else, switch-case)를 피하고, 확장 가능한 설계를 만든다.
    - **Protected Variations**: 변경을 캡슐화해 안정적인 인터페이스 뒤에 변화를 숨긴다.
3. **응집도와 클래스 분리**:
    - 낮은 응집도는 클래스가 여러 이유로 변경되거나, 속성이 서로 다른 시점에 초기화되거나, 메서드와 속성 간 사용 패턴이 나뉘는 경우 나타난다.
    - 응집도를 높이기 위해 변경 이유, 초기화 속성 그룹, 메서드 사용 패턴을 기준으로 클래스를 분리한다.
4. **도메인 모델과 변경**:
    - 도메인 모델은 변하는 개념과 관계를 반영해야 하며, 변경 역시 설계의 일부로 고려된다.

## 추가 인용

#### 책임 주도 설계를 향해

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.135
>객체에 할당된 책임의 품질은 협력에 적합한 정도로 결정된다. 객체에게 할당된 책임이 협력에 어울리지 않는다면 그 책임은 나쁜 것이다. 객체 입장에서는 책임이 조금 어색해 보이더라도 협력에 적합하다면 그 책임은 좋은 것이다. 책임은 객체의 입장이 아니라 객체가 참여하는 협력에 적합해야 한다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.135
>협력에 적합한 책임을 수확하기 위해서는 객체를 결정한 후에 메시지를 선택하는 것이 아니라 메시지를 결정한 후에 객체를 선택해야 한다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.135
>메시지 기반의 설계 관점은 클래스 기반의 설계 관점보다 훨씬 유연한 애플리케이션을 만들 수 있게 해준다. "이 클래스가 필요하다는 점은 알겠는데 이 클래스는 무엇을 해야 하지?"라고 질문하지 않고 "**메시지를 전송해야 하는데 누구에게 전송해야 하지?**"라고 질문하는 것. 설계의 핵심 질문을 이렇게 바꾸는 것이 메시지 기반 설계로 향하는 첫걸음이다.
>객체를 가지고 있기 때문에 메시지를 보내는 것이 아니다. **메시지를 전송하기 때문에 객체를 갖게 된 것이다.**

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.135
>클라이언트는 어떤 객체가 메시지를 수신할지 알지 못한다. 클라이언트는 단지 임의의 객체가 메시지를 수신할 것이라는 사실을 믿고 자신의 의도를 표현한 메시지를 전송할 뿐이다. 그리고 메시지를 수신하기로 결정된 객체는 메시지를 처리할 '**책임**'을 할당받게 된다.

#### 책임 할당을 위한 GRASP 패턴

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.137
>GRASP은 "General Responsibility Assignment Software Pattern(일반적인 책임 할당을 위한 소프트웨어 패턴)"의 약자로 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 원칙의 집합을 패턴으로 정리한 것이다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.139
>객체에게 책임을 할당하는 첫 번쨰 원칙은 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것이다. GRASP에서는 이를 **INFORMATION EXPERT**(정보 전문가) 패턴이라고 한다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.139
>책임을 수행하는 객체가 정보를 `알고` 있다고 해서 그 정보를 `저장`하고 있을 필요는 없다. 객체는 해당 정보를 제공할 수 있는 다른 객체를 알고 있거나 필요한 정보를 계산해서 제공할 수도 있다. 어떤 방식이건 **정보 전문가가 데이터를 반드시 저장하고 있을 필요는 없다는 사실**을 이해하는 것이 중요하다.


>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.145
>**CREATOR 패턴**
>객체 A를 생성해야 할 때 어떤 객체에게 객체 생성 책임을 할당해야 하는가? 아래 조건을 최대한 많이 만족하는 B에게 객체 생성 책임을 할당하라.
>- B가 A 객체를 포함하거나 참조한다.
>- B가 A 객체를 기록한다.
>- B가 A 객체를 긴밀하게 사용한다.
>- B가 A 객체를 초기화하는 데 필요한 데이터를 가지고 있다. (B가 A의 정보 전문가)

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.145
>이미 결합돼 있는 객체에게 생성 책임을 할당하는 것은 설계의 전체적인 결합도에 영향을 미치지 않는다. 결과적으로 CREATOR 패턴은 이미 존재하는 객체 사이의 관계를 활용하기 때문에 설계가 낮은 결합도를 유지할 수 있게 한다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.152
>클래스의 속성이 서로 다른 시점에 초기화되거나 일부만 초기화되는 것은 응집도가 낮다는 증거다. **따라서 함께 초기화되는 속성을 기준으로 코드를 분리해야 한다.**

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.153
>클래스가 다음과 같은 징후로 몸살을 앓고 있다면 클래스의 응집도는 낮은 것이다.
>- 클래스가 하나 이상의 이유로 변경돼야 한다면 응집도가 낮은 것이다. 변경의 이유를 기준으로 클래스를 분리하라.
>- 클래스의 인스턴스를 초기화하는 시점의 경우에 따라 서로 다른 속성들을 초기화하고 있다면 응집도가 낮은 것이다. 초기화되는 속성의 그룹을 기준으로 클래스를 분리하라.
>- 메서드 그룹이 속성 그룹을 사용하는지 여부로 나뉜다면 응집도가 낮은 것이다. 이들 그룹을 기준으로 클래스를 분리하라.
>
>일반적으로 응집도가 낮은 클래스는 이 세가지 문제를 동시에 가지는 경우가 대부분이다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.158
>**POLYMORPHISM** 패턴 (다형성 패턴)
>
>타입을 명시적으로 정의하고 각 타입에 다형적으로 행동하는 책임을 할당하라.
>
>조건에 따른 변화는 프로그램의 기본 논리다. 프로그램을 if ~ else 또는 switch ~ case 등의 조건 논리를 사용해서 설계한다면 새로운 변화가 일어난 경우 조건 논리를 수정해야 한다. 이것은 프로그램을 수정하기 어렵고 변경에 취약하게 만든다.
>
>다형성패턴은 객체의 타입을 검사해서 타입에 따라 여러 대안들을 수행하는 조건적인 논리를 사용하지 말라고 경고한다. 대신 다형성을 이용해 새로운 변화를 다루기 쉽게 확장하라고 권고한다.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.159
>하나의 클래스가 여러 타입의 행동을 구현하고 있는 것처럼 보인다면 클래스를 분해하고 **POLMORPHISM** 패턴에 따라 책임을 분산시켜라. 예측 가능한 변경으로 인해 여러 클래스들이 불안정해진다면 **PROTECTED VARIATIONS** 패턴에 따라 안정적인 인터페이스 뒤로 변경을 캡슐화하라.

>[!cite] 오브젝트 - 코드로 이해하는 객체 지향 설계, p.163
>변경 역시 도메인 모델의 일부다. 도메인 모델에는 도메인 안에서 변하는 개념과 이들 사이의 관계가 투영돼 있어야 한다.


## 코멘트

이 장은 객체지향 설계의 핵심인 책임 할당을 체계적으로 다루며, 협력과 메시지 중심의 사고를 강조한다. 특히 GRASP 패턴은 실무에서 책임을 할당할 때 구체적인 가이드라인을 제공해 설계의 일관성과 유연성을 높이는 데 유용하다. **Information Expert**와 **Creator** 패턴은 직관적이면서도 결합도를 낮추는 데 효과적이며, **Polymorphism**과 **Protected Variations**는 확장성과 유지보수성을 강화한다.

다만, 메시지 중심 설계는 초보자에게 추상적으로 느껴질 수 있다. 예를 들어, "메시지를 먼저 정의하고 객체를 선택한다"는 개념은 실제 구현에서는 도메인 분석과 반복적인 리팩토링을 요구한다. 또한, 응집도 관련 지침은 클래스를 분리하는 명확한 기준을 제시하지만, 과도한 분리는 코드 복잡성을 높일 수 있으므로 균형이 필요하다.

개인적으로 이 장은 객체지향 설계의 철학적 기반과 실용적 기법을 동시에 다루며, 특히 도메인 모델과 변경을 설계에 통합하는 관점이 인상적이다. 실무에서는 GRASP 패턴을 참고하되, 도메인 특성과 팀의 맥락에 맞게 적용하는 유연성이 중요하다고 생각한다.