---
tags:
  - 완성
  - 테스트
  - 테스트_케이스
aliases:
  - 등가 분할
date: 2025-01-21
title: 동등 분할
---

---

## 내용(Content)

## 들어가며

소프트웨어 테스트를 수행할 때 가장 먼저 마주치는 질문은 "어떤 테스트 케이스를 작성해야 할까?" 이다. 입력 가능한 모든 경우의 수를 테스트하는 것이 이상적이겠지만, 현실적으로는 불가능한 경우가 대부분이다. 예를 들어, 사용자의 나이를 입력받는 단순한 기능이라도 0부터 150까지의 숫자와 잘못된 입력값들까지 고려하면 수백 가지의 테스트 케이스가 필요할 수 있다.

이러한 문제를 해결하기 위한 효과적인 방법이 바로 '**동등 분할**' 기법이다.

### 1. 동등 분할의 기본 개념

#### 1.1 정의와 목적

동등 분할은 입력 도메인을 여러 그룹(분할)으로 나누고, 각 그룹 내의 모든 값들이 프로그램에 의해 동일하게 처리될 것이라는 가정 하에 각 그룹에서 대표 값을 선택하여 테스트하는 기법입니다.

> [!info] Info: 동등 분할의 핵심 원리 
> 하나의 분할 내에서 발견된 오류는 같은 분할 내의 다른 값들에서도 동일하게 발생할 것이라고 가정합니다.
 
#### 1.2 수학적 기반

동등 분할의 수학적 기반은 다음과 같이 표현될 수 있습니다:

$$ D = \bigcup_{i=1}^{n} P_i $$

여기서:

- $D$는 전체 입력 도메인
- $P_i$는 개별 분할
- $n$은 분할의 총 개수

### 2. 동등 분할의 원리

#### 2.1 유효/무효 분할

입력 도메인은 크게 두 가지로 나눌 수 있다:

1. 유효 분할 (Valid Partition)
    - 프로그램이 정상적으로 처리해야 하는 입력값들의 집합
    - 예: 나이 입력에서 $0 \leq age \leq 150$
2. 무효 분할 (Invalid Partition)
    - 프로그램이 오류로 처리해야 하는 입력값들의 집합
    - 예: 나이 입력에서 $age < 0$ 또는 $age > 150$

> [!caution] Caution: 분할 설정 시 주의사항 
> 분할 간에 중복되는 영역이 없도록 해야 하며, 모든 가능한 입력값이 최소 하나의 분할에 포함되어야 한다.

#### 2.2 분할 예시

다음은 학생 성적 입력 시스템의 동등 분할 예시입니다:

```python
def validate_score(score):
    if 90 <= score <= 100:
        return 'A'
    elif 80 <= score < 90:
        return 'B'
    elif 70 <= score < 80:
        return 'C'
    elif 60 <= score < 70:
        return 'D'
    elif 0 <= score < 60:
        return 'F'
    else:
        raise ValueError("Invalid score")
```

이에 대한 동등 분할은 다음과 같습니다:

1. 유효 분할:
    - $P_1: 90 \leq score \leq 100$ (A등급)
    - $P_2: 80 \leq score < 90$ (B등급)
    - $P_3: 70 \leq score < 80$ (C등급)
    - $P_4: 60 \leq score < 70$ (D등급)
    - $P_5: 0 \leq score < 60$ (F등급)
2. 무효 분할:
    - $P_6: score < 0$
    - $P_7: score > 100$

> [!tip] Tip
>  테스트 케이스 선택 각 분할에서 대표값을 선택할 때는 **경계값**과 **중간값**을 고려하는 것이 좋습니다.

## 3. 실제 적용 방법

### 3.1 단계별 적용 프로세스

동등 분할 기법을 적용하는 구체적인 단계는 다음과 같습니다:

1. 입력 도메인 분석
2. 분할 기준 설정
3. 유효/무효 분할 식별
4. 테스트 케이스 설계
5. 테스트 실행 및 결과 분석

> [!info] Info: 프로세스 중요성
> 체계적인 프로세스 적용은 테스트 케이스의 누락을 방지하고 테스트의 품질을 향상시킵니다.

### 3.2 구체적 예시 - 날짜 유효성 검증

다음은 날짜 입력을 검증하는 시스템의 동등 분할 예시입니다:

```python
def validate_date(year, month, day):
    if not (1 <= month <= 12):
        return False
        
    days_in_month = {
        1: 31, 2: 28, 3: 31, 4: 30, 5: 31, 6: 30,
        7: 31, 8: 31, 9: 30, 10: 31, 11: 30, 12: 31
    }
    
    # 윤년 처리
    if year % 4 == 0 and (year % 100 != 0 or year % 400 == 0):
        days_in_month[2] = 29
        
    return 1 <= day <= days_in_month[month]
```

#### 3.2.1 분할 정의

월(Month) 입력에 대한 분할:

$$
\begin{aligned}
P_{valid} &= \{m \in \mathbb{Z} \mid 1 \leq m \leq 12\} \\
P_{invalid} &= \{m \in \mathbb{Z} \mid m < 1 \lor m > 12\}
\end{aligned}
$$

> [!caution] Caution: 경계값 처리
> 특히 날짜와 같은 경계값이 중요한 도메인에서는 경계값 분석(Boundary Value Analysis)과 함께 사용하는 것이 효과적이다.

### 3.3 테스트 케이스 도출

#### 예시: 월(Month) 테스트 케이스

1. 유효 분할 테스트:
   ```python
   def test_valid_months():
       # 경계값
       assert validate_date(2024, 1, 15) == True   # 최소값
       assert validate_date(2024, 12, 15) == True  # 최대값
       # 중간값
       assert validate_date(2024, 6, 15) == True   # 중간값
   ```

2. 무효 분할 테스트:
   ```python
   def test_invalid_months():
       # 경계 외 값
       assert validate_date(2024, 0, 15) == False  # 최소값 미만
       assert validate_date(2024, 13, 15) == False # 최대값 초과
   ```

> [!tip] Tip: 테스트 설계
> 테스트 케이스 작성 시 다음 사항을 고려하세요:
> - 각 분할당 최소 하나의 테스트 케이스
> - 경계값 포함
> - 예상 결과의 명확한 정의

## 4. 한계점과 보완 방법

### 4.1 한계점

1. 복잡한 입력 조건에서의 제약
2. 분할 간 상호작용 고려 부족
3. 특수한 값들의 누락 가능성

### 4.2 보완 방법

$$
Coverage_{test} = \frac{테스트된\ 분할의\ 수}{전체\ 분할의\ 수} \times 100\%
$$

> [!info] Info: 테스트 보완 전략
> 동등 분할 기법은 다음 기법들과 함께 사용할 때 더욱 효과적입니다:
> - 경계값 분석
> - 결정 테이블
> - 상태 전이 테스팅

## 5. 결론

동등 분할 기법은 효율적인 테스트 케이스 설계를 가능하게 하는 강력한 도구이다. 체계적인 접근과 다른 테스트 기법과의 조합을 통해 최적의 테스트 전략을 수립할 수 있다.

> [!help] Help: 실무 적용
> 이론적 이해를 바탕으로 실제 프로젝트에 적용할 때는 점진적인 접근이 효과적이다. 작은 기능부터 시작하여 점차 확장해 나가는 것을 추천합니다.

## 질문 & 확장

(없음)

## 연결 노트

## 출처(링크)





