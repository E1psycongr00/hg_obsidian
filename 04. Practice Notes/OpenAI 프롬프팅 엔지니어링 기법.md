---
tags:
  - 미완
  - 프롬프트엔지니어링
aliases: 
created: 
title: OpenAI 프롬프팅 엔지니어링 기법
---

---

### 내용

### 프롬프트 엔지니어링 기법 개요

프롬프트 엔지니어링은 대규모 언어 모델을 효과적으로 활용하기 위한 핵심 전략이다. 이는 명확하고 체계적인 설계를 통해 복잡한 문제 해결, 출력 품질 향상, 그리고 작업 효율성을 극대화한다는 점에서 중요하다. 특히, 모델 재훈련 없이도 높은 성능을 이끌어낼 수 있어, 비용과 시간 측면에서 큰 이점을 제공한다. 이 문서에서는 프롬프트 엔지니어링 전략과 기법의 중요성을 다루고, 이를 성공적으로 적용하기 위한 방법을 제시한다.


### 주요 전략 및 기법

#### 1. 명확한 지침 작성 (**Write Clear Instructions**):

모델은 인간의 의도를 직관적으로 이해하지 못한다. 따라서 **명확한 지침**을 제공하는 것은 정확한 정보를 얻기 위한 필수 요소다. 명확한 지침은 모델이 혼란을 줄이고 요구사항을 더 잘 이해하여 고품질 응답을 생성하도록 돕는다. 

명확한 지침 작성은 다음과 같다.

1. **구체적인 세부사항 포함**
2. **모델에게 페르소나(역할) 부여 (Role Assignment)**
3. **구분 기호를 활용해 입력의 각 부분을 명확히 표시**
4. 작업 완료 필요 단계 지정
5. 예시 작성
6. 원하는 출력 길이 지정


##### 구체적인 세부사항 포함

모델의 성능을 높이는 방법은 질문에 대한 추측을 줄이는 것이다. 구체적인 세부사항은 모델의 질문 추측을 줄이고 조금 더 정확한 답변을 유도할 수 있다.

**예시:**

| BAD                    | GOOD                                                                                                        |
| :--------------------- | :---------------------------------------------------------------------------------------------------------- |
| Excel에서 숫자를 어떻게 추가하나요? | Excel에서 여러 행의 금액을 합산하고, 결과를 'Total' 열에 자동으로 계산되도록 설정하려면 어떻게 해야 하나요?                                         |
| 대통령은 누구죠?              | 2021년 멕시코 대통령은 누구였으며, 어느 정당 소속인가?                                                                           |
| 피보나치 수열을 계산하는 코드를 작성해줘 | 피보나치 수열을 효율적으로 계산하는 TypeScript 함수를 작성하세요. 각 부분이 무엇을 하는지, 왜 그렇게 작성했는지 설명하기 위해 코드에 자유롭게 주석을 달아주세요.            |
| 회의록을 요약하세요.            | 회의록을 한 문단으로 요약합니다. 그런 다음 발표자와 각 발표자의 핵심 요점에 대한 마크다운 목록을 작성합니다. 마지막으로 발표자가 제안한 다음 단계 또는 작업 항목(있는 경우)을 나열합니다. |

##### 역할 부여(Role Assignment)

모델에게 특정 역할을 부여하면, 답변의 톤과 세부 내용이 이에 맞춰진다.

**예시:**

 *"당신은 법률 전문가입니다. 계약서를 검토하고 주요 법적 이슈를 지적하세요."*

##### 작업 완료를 위한 필요 단계

모델에게 명확한 단계 지시를 통해 조금 더 정확하고, 좋은 대답을 얻을 수 있다.

```text
다음 단계별 지침을 사용하여 사용자 입력에 응답하세요.
- 1단계 - 사용자가 3중 따옴표로 텍스트를 제공합니다.이 텍스트를 "요약: "이라는 접두사로 한 문장으로 요약합니다. 
- 2단계 - 1단계의 요약을 스페인어로 번역하고 접두사로 "번역: "을 붙입니다.
```


##### 출력 형식 지정 및 예제 제공

원하는 출력 형식을 명시하거나 샘플 답변을 제공하여 모델이 이를 따르도록 유도한다.

**예시:**

- *"주어진 텍스트를 세 문장으로 요약하세요."*
- *"주어진 논문 초록에 대해 제목을 작성하되, 주제와 관련성이 높은 제목 5가지를 제시하세요."*



#### 2. 참조 텍스트 제공 (**Provide Reference Text**)

모델이 가짜 정보를 생성하는 것을 방지하기 위해 **참조 텍스트**를 제공하는 것이 중요하다. 이는 특히 전문적이고 복잡한 주제에서 신뢰할 수 있는 응답을 얻는 데 유용하다.


##### 참조 텍스트 활용

모델에게 제공된 자료를 바탕으로만 답변하도록 요청한다.

**예시:**

*"아래에 제공된 논문 내용을 기반으로, 저자의 핵심 주장을 요약하세요."*

##### 출처 포함 요청

모델이 참조 텍스트의 구체적인 위치(페이지, 문단 등)를 응답에 포함하도록 요청한다.

**예시:**

*"아래 텍스트를 참고하여 질문에 답변하고, 출처를 인용 형식으로 표시하세요."*


### 3. 복잡한 작업을 단순한 하위 작업으로 분할 (**Split Complex Tasks into Simpler Subtasks**)

복잡한 작업은 단일 프롬프트로 해결하기 어렵기 때문에, 이를 여러 단계로 나눠 해결하는 접근법이 효과적이다.


##### 의도 분류(Intent Classification)

질의를 여러 카테고리로 분류한 뒤, 각 카테고리에 적합한 응답을 생성하도록 모델을 유도한다.

- 예시:
	 *"질문을 다음 카테고리로 분류하세요: '결제 관련', '기술 지원', '계정 관리'. JSON 형식으로 출력하세요."*

##### 점진적 요약

긴 텍스트를 여러 부분으로 나눠 요약한 뒤, 이를 재귀적으로 결합하여 전체 요약을 생성한다.

- 예시:
	 *"아래 긴 텍스트를 세 부분으로 나누어 요약하고, 요약문을 결합하여 최종 요약문을 생성하세요."*


#### 4. 모델에게 "생각할 시간" 부여 (**Give the Model Time to Think**)

모델이 답변을 즉시 생성하도록 요청하면 실수가 발생할 확률이 높다. 대신, 단계적으로 사고 과정을 거치도록 유도하면 보다 정확한 응답을 얻을 수 있다.


##### 체인 오브 사고(Chain-of-Thought)

문제를 단계별로 해결하도록 지시한다.

- 예시:
     *"수학 문제를 풀기 전에 각 단계별로 풀이 과정을 작성하세요."*

##### 반복적 확인 요청
모델이 이전 응답을 검토하고, 누락된 정보를 추가하도록 지시한다.

- 예시:
	 *"다음 번역에서 빠진 부분이 있는지 검토하세요. 빠진 부분이 있다면 추가하세요."*


#### 5. 외부 도구 활용 (**Use External Tools**)

모델의 한계를 보완하기 위해 외부 도구를 활용할 수 있다. 예를 들어, 검색 시스템이나 코드 실행 엔진을 결합하여 더욱 정교한 결과를 얻을 수 있다.


1. **임베딩 기반 검색**

   - 대량의 데이터에서 관련 정보를 검색해 모델에 입력한다.
     - 예시:\
       *"임베딩 검색을 통해 데이터베이스에서 관련 정보를 찾아 모델 입력에 추가하세요."*

2. **코드 실행**

   - 수학적 계산이나 코드 실행이 필요한 경우, 모델이 코드를 작성하고 실행 결과를 다시 입력값으로 사용할 수 있도록 한다.
     - 예시:\
       *"다항식의 모든 실수 해를 계산하는 Python 코드를 작성하세요."*

---

### 6. 변경 사항을 체계적으로 테스트 (**Test Changes Systematically**)

프롬프트 변경이 성능에 미치는 영향을 평가하려면 체계적인 테스트가 필요하다. 대표적인 작업 세트를 사용하여 수정된 프롬프트의 효과를 비교 분석할 수 있다.

#### 기법:

1. **골드 스탠다드 비교**

   - 정답이 명확히 알려진 작업 세트를 사용하여 모델 출력을 평가한다.
     - 예시:\
       *"답변에 포함되어야 할 필수 정보를 확인하고, 포함 여부를 'yes' 또는 'no'로 평가하세요."*

2. **모델 기반 평가**

   - 모델 자체를 활용해 응답 품질을 평가한다.
     - 예시:\
       *"응답이 원래 정답과 어느 정도 일치하는지, 또는 모순이 있는지를 평가하세요."*

---

## 확장 가능한 추가 기법

1. **다중 샘플링(Multi-Sampling)**: 동일한 프롬프트로 여러 출력을 생성한 후, 품질이 가장 높은 응답을 선택.
2. **학습 가이드라인 제공**: 초보자를 위한 상세한 안내와 고급 사용자용 간결한 설명을 구분.
3. **프롬프트 체인 설계(Prompt Chaining)**: 여러 프롬프트를 순차적으로 연결하여 복잡한 작업 수행.
4. **사용자 정의 함수 호출**: 특정 작업을 수행하기 위한 함수 정의 및 호출 활용.

---

## 질문 & 확장

1. 프롬프트 엔지니어링을 자동화하거나 최적화할 수 있는 도구는 무엇이 있는가?
2. 프롬프트 엔지니어링이 **모델 재훈련**과 비교했을 때 갖는 장점과 한계는 무엇인가?
3. **체인 오브 사고(Chain-of-Thought)** 기법이 특정 도메인에서 더 효과적인 이유는 무엇인가?
4. 프롬프트 설계가 잘못되었을 때 발생할 수 있는 **주요 오류 사례**와 이를 방지하는 방법은?

---

## 출처

- [OpenAI Platform](https://platform.openai.com/docs/guides/prompt-engineering#tactic-ask-the-model-to-adopt-a-persona)

세부적으로 설계된 프롬프트는 출력 오류율을 30% 이상 감소시킨 사례[^1].

[^1]: Jacob Andreas, *Language Models are Few-Shot Learners*, OpenAI, 2020.  

    > "Prompt engineering leverages the inherent capabilities of large language models without additional training."  
    
    프롬프트 설계의 기본 개념과 중요성을 설명하기 위해 참조.



## 연결 노트

- related:: [[chain of Thought]]








