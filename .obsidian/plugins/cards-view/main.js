/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var po=Object.create;var lr=Object.defineProperty;var ho=Object.getOwnPropertyDescriptor;var _o=Object.getOwnPropertyNames;var mo=Object.getPrototypeOf,vo=Object.prototype.hasOwnProperty;var Li=t=>{throw TypeError(t)};var go=(t,e,r)=>e in t?lr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var xo=(t,e)=>{for(var r in e)lr(t,r,{get:e[r],enumerable:!0})},Qi=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _o(e))!vo.call(t,i)&&i!==r&&lr(t,i,{get:()=>e[i],enumerable:!(n=ho(e,i))||n.enumerable});return t};var bo=(t,e,r)=>(r=t!=null?po(mo(t)):{},Qi(e||!t||!t.__esModule?lr(r,"default",{value:t,enumerable:!0}):r,t)),yo=t=>Qi(lr({},"__esModule",{value:!0}),t);var xe=(t,e,r)=>go(t,typeof e!="symbol"?e+"":e,r),Mi=(t,e,r)=>e.has(t)||Li("Cannot "+r);var re=(t,e,r)=>(Mi(t,e,"read from private field"),r?r.call(t):e.get(t)),Cr=(t,e,r)=>e.has(t)?Li("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Pr=(t,e,r,n)=>(Mi(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var Ua={};xo(Ua,{default:()=>xn});module.exports=yo(Ua);var co=require("obsidian");var ze=require("obsidian");var bn={baseQuery:"",minCardWidth:200,launchOnStart:!1,displayTitle:"Both",pinnedFiles:[]},Sr=class extends ze.PluginSettingTab{constructor(e,r){super(e,r),this.plugin=r}display(){let{containerEl:e}=this;e.empty(),new ze.Setting(e).setName("Base search query").setDesc("Use this for example to exclude tags, folders or keywords from the view.").addText(r=>r.setPlaceholder('-path:"Folder name/" -tag:hidden').setValue(this.plugin.settings.baseQuery).onChange(async n=>{this.plugin.settings.baseQuery=n,await this.plugin.saveSettings()})),new ze.Setting(e).setName("Minimum card width").setDesc("Cards will not be smaller than this width (in pixels)").addText(r=>r.setPlaceholder("200").setValue(this.plugin.settings.minCardWidth.toString()).onChange(async n=>{if(isNaN(parseInt(n))){new ze.Notice("Invalid number");return}this.plugin.settings.minCardWidth=parseInt(n),await this.plugin.saveSettings()})),new ze.Setting(e).setName("Title display mode").setDesc("What to display on cards starting with a # Level 1 title").addDropdown(r=>r.addOptions({Both:"Both title and filename",Title:"Title",Filename:"Filename"}).setValue(this.plugin.settings.displayTitle).onChange(async n=>{this.plugin.settings.displayTitle=n,await this.plugin.saveSettings()})),new ze.Setting(e).setName("Launch on start").setDesc("Open the cards view when Obsidian starts").addToggle(r=>r.setValue(this.plugin.settings.launchOnStart).onChange(async n=>{this.plugin.settings.launchOnStart=n,await this.plugin.saveSettings()})),new ze.Setting(e).setName("Reset settings").setDesc("Reset all settings to default").addButton(r=>r.setButtonText("Reset").onClick(async()=>{this.plugin.settings=bn,await this.plugin.saveSettings(),this.display()}))}};var At=require("obsidian");var qi="5";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qi);var Ve=!1;function Bi(){Ve=!0}Bi();var It="[",_t="[!",mt="]",Je={};var vt=Symbol(),Re=Symbol("filename"),Vi=Symbol("hmr");var wo=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var il=[...wo,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume","defaultValue","defaultChecked","srcObject"];var $o=["touchstart","touchmove"];function Xi(t){return $o.includes(t)}var Yi,Ui,yn=(Ui=(Yi=globalThis.process)==null?void 0:Yi.env)==null?void 0:Ui.NODE_ENV;yn||console.warn("If bundling, conditions should include development or production. If not bundling, conditions or NODE_ENV should include development or production. See https://www.npmjs.com/package/esm-env for tips on setting conditions in popular bundlers and runtimes.");var m=yn&&!yn.toLowerCase().includes("prod");var Le=Array.isArray,fr=Array.from,wn=Object.keys,X=Object.defineProperty,et=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,Gi=Object.prototype,Eo=Array.prototype,gt=Object.getPrototypeOf;var G=()=>{};function Wi(t){return t()}function tt(t){for(var e=0;e<t.length;e++)t[e]()}var Ne=Symbol("$state"),Zi=Symbol("$state metadata"),$n=Symbol("legacy props"),Hi=Symbol("");function Nr(t){return t===this.v}function Dt(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ar(t){return!Dt(t,this.v)}function On(){if(m){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function Ki(){if(m){let t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ji(t){if(m){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function es(){if(m){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ts(t){if(m){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function rs(){if(m){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ns(){if(m){let t=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/hydration_failed")}function is(t){if(m){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function ss(){if(m){let t=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function os(){if(m){let t=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var ur=null;function rt(t){let e=Error(),r=e.stack;if(r){let n=r.split(`
`),i=[`
`];for(let s=0;s<n.length;s++){let o=n[s];if(o!=="Error"){if(o.includes("validate_each_keys"))return null;o.includes("svelte/src/internal")||i.push(o)}}if(i.length===1)return null;X(e,"stack",{value:i.join(`
`)}),X(e,"name",{value:`${t}Error`})}return e}var xt=new Set;function jn(t){xt=t}function _e(t,e){var r={f:0,v:t,reactions:null,equals:Nr,version:0};return m&&(r.created=e!=null?e:rt("CreatedAt"),r.debug=null),r}function Cn(t){return ls(_e(t))}function Ye(t,e=!1){var n,i;let r=_e(t);return e||(r.equals=Ar),Ve&&T!==null&&T.l!==null&&((i=(n=T.l).s)!=null?i:n.s=[]).push(r),r}function Pn(t,e=!1){return ls(Ye(t,e))}function ls(t){return O!==null&&O.f&2&&(Ae===null?us([t]):Ae.push(t)),t}function se(t,e){return O!==null&&nt()&&O.f&18&&(Ae===null||!Ae.includes(t))&&os(),Lt(t,e)}function Lt(t,e){if(!t.equals(e)&&(t.v=e,t.version=Dr(),m&&(t.updated=rt("UpdatedAt")),fs(t,2048),nt()&&b!==null&&b.f&1024&&!(b.f&32)&&(Y!==null&&Y.includes(t)?(ie(b,2048),Qt(b)):Xe===null?cs([t]):Xe.push(t)),m&&xt.size>0)){let n=Array.from(xt);var r=Ue;Ft(!0);try{for(let i of n)i.f&1024&&ie(i,4096),it(i)&&bt(i)}finally{Ft(r)}xt.clear()}return e}function fs(t,e){var r=t.reactions;if(r!==null)for(var n=nt(),i=r.length,s=0;s<i;s++){var o=r[s],a=o.f;if(!(a&2048)&&!(!n&&o===b)){if(m&&a&262144){xt.add(o);continue}ie(o,e),a&1280&&(a&2?fs(o,4096):Qt(o))}}}var Fr="font-weight: bold",zr="font-weight: normal";function ps(t,e,r){m?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${t}\` attribute on \`${e}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,Fr,zr):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function Mt(t){m?console.warn(`%c[svelte] hydration_mismatch
%c${t?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${t}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,Fr,zr):console.warn("https://svelte.dev/e/hydration_mismatch")}function ds(){m?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,Fr,zr):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Lr(t){m?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Fr,zr):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var w=!1;function ue(t){w=t}var E;function z(t){if(t===null)throw Mt(),Je;return E=t}function W(){return z(oe(E))}function ce(t){if(w){if(oe(E)!==null)throw Mt(),Je;E=t}}function qt(){for(var t=0,e=E;;){if(e.nodeType===8){var r=e.data;if(r===mt){if(t===0)return e;t-=1}else(r===It||r===_t)&&(t+=1)}var n=oe(e);e.remove(),e=n}}var To=Symbol("ADD_OWNER");function yt(t){return t!==null&&typeof t=="object"&&Ne in t?t[Ne]:t}function hs(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:r,lastIndexOf:n,includes:i}=t;t.indexOf=function(s,o){let a=r.call(this,s,o);return a===-1&&r.call(yt(this),yt(s),o)!==-1&&Lr("array.indexOf(...)"),a},t.lastIndexOf=function(s,o){let a=n.call(this,s,o!=null?o:this.length-1);return a===-1&&n.call(yt(this),yt(s),o!=null?o:this.length-1)!==-1&&Lr("array.lastIndexOf(...)"),a},t.includes=function(s,o){let a=i.call(this,s,o);return a||i.call(yt(this),yt(s),o)&&Lr("array.includes(...)"),a},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=n,t.includes=i}}var Sn,_s,ms,vs;function Qr(){if(Sn===void 0){Sn=window,_s=document;var t=Element.prototype,e=Node.prototype;ms=et(e,"firstChild").get,vs=et(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0,m&&(t.__svelte_meta=null,hs())}}function Ie(t=""){return document.createTextNode(t)}function Z(t){return ms.call(t)}function oe(t){return vs.call(t)}function Oe(t,e){if(!w)return Z(t);var r=Z(E);if(r===null)r=E.appendChild(Ie());else if(e&&r.nodeType!==3){var n=Ie();return r==null||r.before(n),z(n),n}return z(r),r}function Rn(t,e){var i,s;if(!w){var r=Z(t);return r instanceof Comment&&r.data===""?oe(r):r}if(e&&((i=E)==null?void 0:i.nodeType)!==3){var n=Ie();return(s=E)==null||s.before(n),z(n),n}return E}function me(t,e=1,r=!1){let n=w?E:t;for(var i;e--;)i=n,n=oe(n);if(!w)return n;var s=n==null?void 0:n.nodeType;if(r&&s!==3){var o=Ie();return n===null?i==null||i.after(o):n.before(o),z(o),o}return z(n),n}function cr(t){t.textContent=""}function Vt(t){var i;var e=2050;b===null?e|=256:b.f|=1048576;var r=O!==null&&O.f&2?O:null;let n={children:null,ctx:T,deps:null,equals:Nr,f:e,fn:t,reactions:null,v:null,version:0,parent:r!=null?r:b};return m&&(n.created=rt("CreatedAt")),r!==null&&((i=r.children)!=null?i:r.children=[]).push(n),n}function An(t){var e=t.children;if(e!==null){t.children=null;for(var r=0;r<e.length;r+=1){var n=e[r];n.f&2?pr(n):H(n)}}}var Nn=[];function ko(t){for(var e=t.parent;e!==null;){if(!(e.f&2))return e;e=e.parent}return null}function Dn(t){var e,r=b;if(U(ko(t)),m){let n=xt;jn(new Set);try{Nn.includes(t)&&Ki(),Nn.push(t),An(t),e=Mr(t)}finally{U(r),jn(n),Nn.pop()}}else try{An(t),e=Mr(t)}finally{U(r)}return e}function Fn(t){var e=Dn(t),r=(Ge||t.f&256)&&t.deps!==null?4096:1024;ie(t,r),t.equals(e)||(t.v=e,t.version=Dr())}function pr(t){An(t),wt(t,0),ie(t,16384),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Qn(t){b===null&&O===null&&ts(t),O!==null&&O.f&256&&es(),Vr&&Ji(t)}function jo(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ot(t,e,r,n=!0){var u;var i=(t&64)!==0,s=b;if(m)for(;s!==null&&s.f&262144;)s=s.parent;var o={ctx:T,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|2048,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(m&&(o.component_function=$e),r){var a=Ue;try{Ft(!0),bt(o),o.f|=32768}catch(c){throw H(o),c}finally{Ft(a)}}else e!==null&&Qt(o);var l=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&1048576)===0;if(!l&&!i&&n&&(s!==null&&jo(o,s),O!==null&&O.f&2)){var f=O;((u=f.children)!=null?u:f.children=[]).push(o)}return o}function Te(t){let e=Ot(8,null,!1);return ie(e,1024),e.teardown=t,e}function Yt(t){var i;Qn("$effect");var e=b!==null&&(b.f&32)!==0&&T!==null&&!T.m;if(m&&X(t,"name",{value:"$effect"}),e){var r=T;((i=r.e)!=null?i:r.e=[]).push({fn:t,effect:b,reaction:O})}else{var n=ve(t);return n}}function Bt(t){return Qn("$effect.pre"),m&&X(t,"name",{value:"$effect.pre"}),B(t)}function qr(t){let e=Ot(64,t,!0);return()=>{H(e)}}function bs(t){let e=Ot(64,t,!0);return(r={})=>new Promise(n=>{r.outro?De(e,()=>{H(e),n(void 0)}):(H(e),n(void 0))})}function ve(t){return Ot(4,t,!1)}function B(t){return Ot(8,t,!0)}function ot(t){return m&&X(t,"name",{value:"{expression}"}),pe(t)}function pe(t,e=0){return Ot(24|e,t,!0)}function K(t,e=!0){return Ot(40,t,!0,e)}function Mn(t){var e=t.teardown;if(e!==null){let r=Vr,n=O;zn(!0),ae(null);try{e.call(null)}finally{zn(r),ae(n)}}}function qn(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)pr(e[r])}}function Bn(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;H(r,e),r=n}}function ys(t){for(var e=t.first;e!==null;){var r=e.next;e.f&32||H(e),e=r}}function H(t,e=!0){var r=!1;if((e||t.f&524288)&&t.nodes_start!==null){for(var n=t.nodes_start,i=t.nodes_end;n!==null;){var s=n===i?null:oe(n);n.remove(),n=s}r=!0}Bn(t,e&&!r),qn(t),wt(t,0),ie(t,16384);var o=t.transitions;if(o!==null)for(let l of o)l.stop();Mn(t);var a=t.parent;a!==null&&a.first!==null&&Vn(t),m&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Vn(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function De(t,e){var r=[];Br(t,r,!0),Xn(r,()=>{H(t),e&&e()})}function Xn(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Br(t,e,r){if(!(t.f&8192)){if(t.f^=8192,t.transitions!==null)for(let o of t.transitions)(o.is_global||r)&&e.push(o);for(var n=t.first;n!==null;){var i=n.next,s=(n.f&65536)!==0||(n.f&32)!==0;Br(n,e,s?r:!1),n=i}}}function at(t){ws(t,!0)}function ws(t,e){if(t.f&8192){it(t)&&bt(t),t.f^=8192;for(var r=t.first;r!==null;){var n=r.next,i=(r.f&65536)!==0||(r.f&32)!==0;ws(r,i?e:!1),r=n}if(t.transitions!==null)for(let s of t.transitions)(s.is_global||e)&&s.in()}}var Co=typeof requestIdleCallback=="undefined"?t=>setTimeout(t,1):requestIdleCallback,Xr=!1,Yr=!1,Yn=[],Un=[];function $s(){Xr=!1;let t=Yn.slice();Yn=[],tt(t)}function Os(){Yr=!1;let t=Un.slice();Un=[],tt(t)}function ke(t){Xr||(Xr=!0,queueMicrotask($s)),Yn.push(t)}function Es(t){Yr||(Yr=!0,Co(Os)),Un.push(t)}function Ts(){Xr&&$s(),Yr&&Os()}function Ur(t){if(m){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Ss=0,No=1,ks=new WeakSet,Gr=!1,Wr=Ss,dr=!1,Ut=null,Ue=!1,Vr=!1;function Ft(t){Ue=t}function zn(t){Vr=t}var Et=[],Gt=0,hr=[],O=null;function ae(t){O=t}var b=null;function U(t){b=t}var Ae=null;function us(t){Ae=t}var Y=null,ge=0,Xe=null;function cs(t){Xe=t}var Rs=1,Ge=!1,Ir=null;var T=null;var $e=null;function Dr(){return++Rs}function nt(){return!Ve||T!==null&&T.l===null}function it(t){var o,a,l,f;var e=t.f;if(e&2048)return!0;if(e&4096){var r=t.deps,n=(e&256)!==0;if(r!==null){var i;if(e&512){for(i=0;i<r.length;i++)((a=(o=r[i]).reactions)!=null?a:o.reactions=[]).push(t);t.f^=512}for(i=0;i<r.length;i++){var s=r[i];if(it(s)&&Fn(s),n&&b!==null&&!Ge&&!((l=s==null?void 0:s.reactions)!=null&&l.includes(t))&&((f=s.reactions)!=null?f:s.reactions=[]).push(t),s.version>t.version)return!0}}(!n||b!==null&&!Ge)&&ie(t,1024)}return!1}function js(t,e){for(var r=e;r!==null;){if(r.f&128)try{r.fn(t);return}catch(n){r.f^=128}r=r.parent}throw Gr=!1,t}function Cs(t){return(t.f&16384)===0&&(t.parent===null||(t.parent.f&128)===0)}function Wt(t,e,r,n){var u,c;if(Gr){if(r===null&&(Gr=!1),Cs(e))throw t;return}if(r!==null&&(Gr=!0),!m||n===null||!(t instanceof Error)||ks.has(t)){js(t,e);return}ks.add(t);let i=[],s=(u=e.fn)==null?void 0:u.name;s&&i.push(s);let o=n;for(;o!==null;){if(m){var a=(c=o.function)==null?void 0:c[Re];if(a){let p=a.split("/").pop();i.push(p)}}o=o.p}let l=/Firefox/.test(navigator.userAgent)?"  ":"	";X(t,"message",{value:t.message+`
${i.map(p=>`
${l}in ${p}`).join("")}
`}),X(t,"component_stack",{value:i});let f=t.stack;if(f){let p=f.split(`
`),d=[];for(let h=0;h<p.length;h++){let _=p[h];_.includes("svelte/src/internal")||d.push(_)}X(t,"stack",{value:d.join(`
`)})}if(js(t,e),Cs(e))throw t}function Mr(t){var p,d;var e=Y,r=ge,n=Xe,i=O,s=Ge,o=Ae,a=T,l=t.f;Y=null,ge=0,Xe=null,O=l&96?null:t,Ge=!Ue&&(l&256)!==0,Ae=null,T=t.ctx;try{var f=(0,t.fn)(),u=t.deps;if(Y!==null){var c;if(wt(t,ge),u!==null&&ge>0)for(u.length=ge+Y.length,c=0;c<Y.length;c++)u[ge+c]=Y[c];else t.deps=u=Y;if(!Ge)for(c=ge;c<u.length;c++)((d=(p=u[c]).reactions)!=null?d:p.reactions=[]).push(t)}else u!==null&&ge<u.length&&(wt(t,ge),u.length=ge);return f}finally{Y=e,ge=r,Xe=n,O=i,Ge=s,Ae=o,T=a}}function Ao(t,e){let r=e.reactions;if(r!==null){var n=r.indexOf(t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&e.f&2&&(Y===null||!Y.includes(e))&&(ie(e,4096),e.f&768||(e.f^=512),wt(e,0))}function wt(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Ao(t,r[n])}function bt(t){var e=t.f;if(!(e&16384)){ie(t,1024);var r=b,n=T;if(b=t,m){var i=$e;$e=t.component_function}try{e&16?ys(t):Bn(t),qn(t),Mn(t);var s=Mr(t);t.teardown=typeof s=="function"?s:null,t.version=Rs,m&&hr.push(t)}catch(o){Wt(o,t,r,n||t.ctx)}finally{b=r,m&&($e=i)}}}function Ps(){console.error("Last ten effects were: ",hr.slice(-10).map(t=>t.fn)),hr=[]}function Ns(){if(Gt>1e3){Gt=0;try{rs()}catch(t){if(m&&X(t,"stack",{value:""}),Ut!==null)if(m)try{Wt(t,Ut,null,null)}catch(e){throw Ps(),e}else Wt(t,Ut,null,null);else throw m&&Ps(),t}}Gt++}function As(t){var e=t.length;if(e!==0){Ns();var r=Ue;Ue=!0;try{for(var n=0;n<e;n++){var i=t[n];i.f&1024||(i.f^=1024);var s=[];Is(i,s),Io(s)}}finally{Ue=r}}}function Io(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if(!(n.f&24576))try{it(n)&&(bt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Vn(n):n.fn=null))}catch(i){Wt(i,n,null,n.ctx)}}}function Do(){if(dr=!1,Gt>1001)return;let t=Et;Et=[],As(t),dr||(Gt=0,Ut=null,m&&(hr=[]))}function Qt(t){Wr===Ss&&(dr||(dr=!0,queueMicrotask(Do))),Ut=t;for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&96){if(!(r&1024))return;e.f^=1024}}Et.push(e)}function Is(t,e){var r=t.first,n=[];e:for(;r!==null;){var i=r.f,s=(i&32)!==0,o=s&&(i&1024)!==0,a=r.next;if(!o&&!(i&8192))if(i&8){if(s)r.f^=1024;else try{it(r)&&bt(r)}catch(c){Wt(c,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}else i&4&&n.push(r);if(a===null){let c=r.parent;for(;c!==null;){if(t===c)break e;var f=c.next;if(f!==null){r=f;continue e}c=c.parent}}r=a}for(var u=0;u<n.length;u++)l=n[u],e.push(l),Is(l,e)}function Tt(t){var e=Wr,r=Et;try{Ns();let i=[];Wr=No,Et=i,dr=!1,As(r);var n=t==null?void 0:t();return Ts(),(Et.length>0||i.length>0)&&Tt(),Gt=0,Ut=null,m&&(hr=[]),n}finally{Wr=e,Et=r}}async function _r(){await Promise.resolve(),Tt()}function I(t){var c,p;var e=t.f,r=(e&2)!==0;if(r&&e&16384){var n=Dn(t);return pr(t),n}if(Ir!==null&&Ir.add(t),O!==null){Ae!==null&&Ae.includes(t)&&ss();var i=O.deps;Y===null&&i!==null&&i[ge]===t?ge++:Y===null?Y=[t]:Y.push(t),Xe!==null&&b!==null&&b.f&1024&&!(b.f&32)&&Xe.includes(t)&&(ie(b,2048),Qt(b))}else if(r&&t.deps===null)for(var s=t,o=s.parent,a=s;o!==null;)if(o.f&2){var l=o;a=l,o=l.parent}else{var f=o;(c=f.deriveds)!=null&&c.includes(a)||((p=f.deriveds)!=null?p:f.deriveds=[]).push(a);break}if(r&&(s=t,it(s)&&Fn(s)),m&&ur!==null&&O!==null&&ur.reaction===O){if(t.debug)t.debug();else if(t.created){var u=ur.entries.get(t);u===void 0&&(u={read:[]},ur.entries.set(t,u)),u.read.push(rt("TracedAt"))}}return t.v}function N(t){let e=O;try{return O=null,t()}finally{O=e}}var Fo=-7169;function ie(t,e){t.f=t.f&Fo|e}function kt(t,e=!1,r){T={p:T,c:null,e:null,m:!1,s:t,x:null,l:null},Ve&&!e&&(T.l={s:null,u:null,r1:[],r2:_e(!1)}),m&&(T.function=r,$e=r)}function jt(t){var o,a;let e=T;if(e!==null){t!==void 0&&(e.x=t);let l=e.e;if(l!==null){var r=b,n=O;e.e=null;try{for(var i=0;i<l.length;i++){var s=l[i];U(s.effect),ae(s.reaction),ve(s.fn)}}finally{U(r),ae(n)}}T=e.p,m&&($e=(a=(o=e.p)==null?void 0:o.function)!=null?a:null),e.m=!0}return t||{}}function mr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ne in t)Kr(t);else if(!Array.isArray(t))for(let e in t){let r=t[e];typeof r=="object"&&r&&Ne in r&&Kr(r)}}}function Kr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Kr(t[n],e)}catch(i){}let r=gt(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Rr(r);for(let i in n){let s=n[i].get;if(s)try{s.call(t)}catch(o){}}}}}if(m){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;is(e)},set:n=>{r=n}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}var Ds=new Map;function Fs(t,e){var r=Ds.get(t);r||(r=new Set,Ds.set(t,r)),r.add(e)}var zs=!1;function Jr(){zs||(zs=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(let r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Gn(t){var e=O,r=b;ae(null),U(null);try{return t()}finally{ae(e),U(r)}}function Wn(t,e,r,n=r){t.addEventListener(e,()=>Gn(r));let i=t.__on_r;i?t.__on_r=()=>{i(),n(!0)}:t.__on_r=()=>n(!0),Jr()}var Zn=new Set,en=new Set;function Zt(t){for(var e=0;e<t.length;e++)Zn.add(t[e]);for(var r of en)r(t)}function vr(t){var P;var e=this,r=e.ownerDocument,n=t.type,i=((P=t.composedPath)==null?void 0:P.call(t))||[],s=i[0]||t.target,o=0,a=t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var f=i.indexOf(e);if(f===-1)return;l<=f&&(o=l)}if(s=i[o]||t.target,s!==e){X(t,"currentTarget",{configurable:!0,get(){return s||r}});var u=O,c=b;ae(null),U(null);try{for(var p,d=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+n];if(_!==void 0&&!s.disabled)if(Le(_)){var[y,...k]=_;y.apply(s,[t,...k])}else _.call(s,t)}catch(g){p?d.push(g):p=g}if(t.cancelBubble||h===e||h===null)break;s=h}if(p){for(let g of d)queueMicrotask(()=>{throw g});throw p}}finally{t.__root=e,delete t.currentTarget,ae(u),U(c)}}}var Lo;function Ls(){Lo=void 0}function tn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function lt(t,e){var r=b;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function ft(t,e){var r=(e&1)!==0,n=(e&2)!==0,i,s=!t.startsWith("<!>");return()=>{if(w)return lt(E,null),E;i===void 0&&(i=tn(s?t:"<!>"+t),r||(i=Z(i)));var o=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=Z(o),l=o.lastChild;lt(a,l)}else lt(o,o);return o}}function Be(t,e){if(w){b.nodes_end=E,W();return}t!==null&&t.before(e)}var Hn=!0;function Kt(t,e){var n;var r=e==null?"":typeof e=="object"?e+"":e;r!==((n=t.__t)!=null?n:t.__t=t.nodeValue)&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function Jt(t,e){return Qs(t,e)}function Jn(t,e){var o;Qr(),e.intro=(o=e.intro)!=null?o:!1;let r=e.target,n=w,i=E;try{for(var s=Z(r);s&&(s.nodeType!==8||s.data!==It);)s=oe(s);if(!s)throw Je;ue(!0),z(s),W();let a=Qs(t,{...e,anchor:s});if(E===null||E.nodeType!==8||E.data!==mt)throw Mt(),Je;return ue(!1),a}catch(a){if(a===Je)return e.recover===!1&&ns(),Qr(),cr(r),ue(!1),Jt(t,e);throw a}finally{ue(n),z(i),Ls()}}var Ht=new Map;function Qs(t,{target:e,anchor:r,props:n={},events:i,context:s,intro:o=!0}){Qr();var a=new Set,l=c=>{for(var p=0;p<c.length;p++){var d=c[p];if(!a.has(d)){a.add(d);var h=Xi(d);e.addEventListener(d,vr,{passive:h});var _=Ht.get(d);_===void 0?(document.addEventListener(d,vr,{passive:h}),Ht.set(d,1)):Ht.set(d,_+1)}}};l(fr(Zn)),en.add(l);var f=void 0,u=bs(()=>{var c=r!=null?r:e.appendChild(Ie());return K(()=>{if(s){kt({});var p=T;p.c=s}i&&(n.$$events=i),w&&lt(c,null),Hn=o,f=t(c,n)||{},Hn=!0,w&&(b.nodes_end=E),s&&jt()}),()=>{var h;for(var p of a){e.removeEventListener(p,vr);var d=Ht.get(p);--d===0?(document.removeEventListener(p,vr),Ht.delete(p)):Ht.set(p,d)}en.delete(l),c!==r&&((h=c.parentNode)==null||h.removeChild(c))}});return Kn.set(f,u),f}var Kn=new WeakMap;function ei(t,e){let r=Kn.get(t);return r?(Kn.delete(t),r(e)):(m&&ds(),Promise.resolve())}function rn(t,e,r=!1){w&&W();var n=t,i=null,s=null,o=vt,a=r?65536:0,l=!1;let f=(c,p=!0)=>{l=!0,u(p,c)},u=(c,p)=>{if(o===(o=c))return;let d=!1;if(w){let h=n.data===_t;!!o===h&&(n=qt(),z(n),ue(!1),d=!0)}o?(i?at(i):p&&(i=K(()=>p(n))),s&&De(s,()=>{s=null})):(s?at(s):p&&(s=K(()=>p(n))),i&&De(i,()=>{i=null})),d&&ue(!0)};pe(()=>{l=!1,e(f),l||u(null,null)},a),w&&(n=E)}var gr=null;function ni(t,e){return e}function Uo(t,e,r,n){for(var i=[],s=e.length,o=0;o<s;o++)Br(e[o].e,i,!0);var a=s>0&&i.length===0&&r!==null;if(a){var l=r.parentNode;cr(l),l.append(r),n.clear(),ut(t,e[0].prev,e[s-1].next)}Xn(i,()=>{for(var f=0;f<s;f++){var u=e[f];a||(n.delete(u.k),ut(t,u.prev,u.next)),H(u.e,!a)}})}function nn(t,e,r,n,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&4)!==0;if(l){var f=t;o=w?z(Z(f)):f.appendChild(Ie())}w&&W();var u=null,c=!1;pe(()=>{var p=r(),d=Le(p)?p:p==null?[]:fr(p),h=d.length;if(c&&h===0)return;c=h===0;let _=!1;if(w){var y=o.data===_t;y!==(h===0)&&(o=qt(),z(o),ue(!1),_=!0)}if(w){for(var k=null,P,g=0;g<h;g++){if(E.nodeType===8&&E.data===mt){o=E,_=!0,ue(!1);break}var S=d[g],x=n(S,g);P=Bs(E,a,k,null,S,x,g,i,e,r),a.items.set(x,P),k=P}h>0&&z(qt())}if(!w){var $=O;Go(d,a,o,i,e,($.f&8192)!==0,n,r)}s!==null&&(h===0?u?at(u):u=K(()=>s(o)):u!==null&&De(u,()=>{u=null})),_&&ue(!0),r()}),w&&(o=E)}function Go(t,e,r,n,i,s,o,a){var F,A,Se,te;var l=(i&8)!==0,f=(i&3)!==0,u=t.length,c=e.items,p=e.first,d=p,h,_=null,y,k=[],P=[],g,S,x,$;if(l)for($=0;$<u;$+=1)g=t[$],S=o(g,$),x=c.get(S),x!==void 0&&((F=x.a)==null||F.measure(),(y!=null?y:y=new Set).add(x));for($=0;$<u;$+=1){if(g=t[$],S=o(g,$),x=c.get(S),x===void 0){var V=d?d.e.nodes_start:r;_=Bs(V,e,_,_===null?e.first:_.next,g,S,$,n,i,a),c.set(S,_),k=[],P=[],d=_.next;continue}if(f&&Wo(x,g,$,i),x.e.f&8192&&(at(x.e),l&&((A=x.a)==null||A.unfix(),(y!=null?y:y=new Set).delete(x))),x!==d){if(h!==void 0&&h.has(x)){if(k.length<P.length){var v=P[0],C;_=v.prev;var R=k[0],Q=k[k.length-1];for(C=0;C<k.length;C+=1)Ms(k[C],v,r);for(C=0;C<P.length;C+=1)h.delete(P[C]);ut(e,R.prev,Q.next),ut(e,_,R),ut(e,Q,v),d=v,_=Q,$-=1,k=[],P=[]}else h.delete(x),Ms(x,d,r),ut(e,x.prev,x.next),ut(e,x,_===null?e.first:_.next),ut(e,_,x),_=x;continue}for(k=[],P=[];d!==null&&d.k!==S;)(s||!(d.e.f&8192))&&(h!=null?h:h=new Set).add(d),P.push(d),d=d.next;if(d===null)continue;x=d}k.push(x),_=x,d=x.next}if(d!==null||h!==void 0){for(var D=h===void 0?[]:fr(h);d!==null;)(s||!(d.e.f&8192))&&D.push(d),d=d.next;var M=D.length;if(M>0){var j=i&4&&u===0?r:null;if(l){for($=0;$<M;$+=1)(Se=D[$].a)==null||Se.measure();for($=0;$<M;$+=1)(te=D[$].a)==null||te.fix()}Uo(e,D,j,c)}}l&&ke(()=>{var jr;if(y!==void 0)for(x of y)(jr=x.a)==null||jr.apply()}),b.first=e.first&&e.first.e,b.last=_&&_.e}function Wo(t,e,r,n){n&1&&Lt(t.v,e),n&2?Lt(t.i,r):t.i=r}function Bs(t,e,r,n,i,s,o,a,l,f){var u=gr,c=(l&1)!==0,p=(l&16)===0,d=c?p?Ye(i):_e(i):i,h=l&2?_e(o):o;m&&c&&(d.debug=()=>{var y=typeof h=="number"?o:h.v;f()[y]});var _={i:h,v:d,k:s,a:null,e:null,prev:r,next:n};gr=_;try{return _.e=K(()=>a(t,d,h),w),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{gr=u}}function Ms(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==n;){var o=oe(s);i.before(s),s=o}}function ut(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function xr(t,e){ke(()=>{var i;var r=t.getRootNode(),n=r.host?r:(i=r.head)!=null?i:r.ownerDocument.head;if(!n.querySelector("#"+e.hash)){let s=document.createElement("style");s.id=e.hash,s.textContent=e.code,n.appendChild(s),m&&Fs(e.hash,s)}})}function ct(t,e,r){ve(()=>{var n=N(()=>e(t,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,s={};B(()=>{var o=r();mr(o),i&&Dt(s,o)&&(s=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function oi(t){if(w){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;ii(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;ii(t,"checked",null),t.checked=i}}};t.__on_r=r,Es(r),Jr()}}function ii(t,e,r,n){var s;var i=(s=t.__attributes)!=null?s:t.__attributes={};if(w&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")){n||Jo(t,e,r!=null?r:"");return}i[e]!==(i[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Hi]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Ko(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Vs=new Map;function Ko(t){var e=Vs.get(t.nodeName);if(e)return e;Vs.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=Rr(n);for(var s in r)r[s].set&&e.push(s);n=gt(n)}return e}function Jo(t,e,r){var n;m&&(e==="srcset"&&ea(t,r)||si((n=t.getAttribute(e))!=null?n:"",r)||ps(e,t.outerHTML.replace(t.innerHTML,t.innerHTML&&"..."),String(r)))}function si(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function Xs(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function ea(t,e){var r=Xs(t.srcset),n=Xs(e);return n.length===r.length&&n.every(([i,s],o)=>s===r[o][1]&&(si(r[o][0],i)||si(i,r[o][0])))}function er(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function fi(t,e,r=e){var n=nt();Wn(t,"input",i=>{m&&t.type==="checkbox"&&On();var s=i?t.defaultValue:t.value;if(s=ai(t)?li(s):s,r(s),n&&s!==(s=e())){var o=t.selectionStart,a=t.selectionEnd;t.value=s!=null?s:"",a!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(a,t.value.length))}}),(w&&t.defaultValue!==t.value||N(e)==null&&t.value)&&r(ai(t)?li(t.value):t.value),B(()=>{m&&t.type==="checkbox"&&On();var i=e();ai(t)&&i===li(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i!=null?i:"")})}function ai(t){var e=t.type;return e==="number"||e==="range"}function li(t){return t===""?null:+t}function Ys(t,e){return t===e||(t==null?void 0:t[Ne])===e}function br(t={},e,r,n){return ve(()=>{var i,s;return B(()=>{i=s,s=(n==null?void 0:n())||[],N(()=>{t!==r(...s)&&(e(t,...s),i&&Ys(r(...i),t)&&e(null,...i))})}),()=>{ke(()=>{s&&Ys(r(...s),t)&&e(null,...s)})}}),t}function ui(t=!1){let e=T,r=e.l.u;if(!r)return;let n=()=>mr(e.s);if(t){let i=0,s={},o=Vt(()=>{let a=!1,l=e.s;for(let f in l)l[f]!==s[f]&&(s[f]=l[f],a=!0);return a&&i++,i});n=()=>I(o)}r.b.length&&Bt(()=>{Us(e,n),tt(r.b)}),Yt(()=>{let i=N(()=>r.m.map(Wi));return()=>{for(let s of i)typeof s=="function"&&s()}}),r.a.length&&Yt(()=>{Us(e,n),tt(r.a)})}function Us(t,e){if(t.l.s)for(let r of t.l.s)I(r);e()}function on(t){T===null&&Ur("onMount"),Ve&&T.l!==null?la(T).m.push(t):Yt(()=>{let e=N(t);if(typeof e=="function")return e})}function la(t){var r;var e=t.l;return(r=e.u)!=null?r:e.u={a:[],b:[],m:[]}}function yr(t,e,r){if(t==null)return e(void 0),r&&r(void 0),G;let n=N(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}function le(t,e,r){var s;let n=(s=r[e])!=null?s:r[e]={store:null,source:Ye(void 0),unsubscribe:G};if(n.store!==t)if(n.unsubscribe(),n.store=t!=null?t:null,t==null)n.source.v=void 0,n.unsubscribe=G;else{var i=!0;n.unsubscribe=yr(t,o=>{i?n.source.v=o:se(n.source,o)}),i=!1}return I(n.source)}function de(t,e){return t.set(e),e}function wr(){let t={};return Te(()=>{for(var e in t)t[e].unsubscribe()}),t}function ci(t,e,r){return t.set(r),e}function Gs(t){return new pi(t)}var We,je,pi=class{constructor(e){Cr(this,We);Cr(this,je);var s,o;var r=new Map,n=(a,l)=>{var f=Ye(l);return r.set(a,f),f};let i=new Proxy({...e.props||{},$$events:{}},{get(a,l){var f;return I((f=r.get(l))!=null?f:n(l,Reflect.get(a,l)))},has(a,l){var f;return l===$n?!0:(I((f=r.get(l))!=null?f:n(l,Reflect.get(a,l))),Reflect.has(a,l))},set(a,l,f){var u;return se((u=r.get(l))!=null?u:n(l,f),f),Reflect.set(a,l,f)}});Pr(this,je,(e.hydrate?Jn:Jt)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:(s=e.intro)!=null?s:!1,recover:e.recover})),(!((o=e==null?void 0:e.props)!=null&&o.$$host)||e.sync===!1)&&Tt(),Pr(this,We,i.$$events);for(let a of Object.keys(re(this,je)))a==="$set"||a==="$destroy"||a==="$on"||X(this,a,{get(){return re(this,je)[a]},set(l){re(this,je)[a]=l},enumerable:!0});re(this,je).$set=a=>{Object.assign(i,a)},re(this,je).$destroy=()=>{ei(re(this,je))}}$set(e){re(this,je).$set(e)}$on(e,r){re(this,We)[e]=re(this,We)[e]||[];let n=(...i)=>r.call(this,...i);return re(this,We)[e].push(n),()=>{re(this,We)[e]=re(this,We)[e].filter(i=>i!==n)}}$destroy(){re(this,je).$destroy()}};We=new WeakMap,je=new WeakMap;var ba;typeof HTMLElement=="function"&&(ba=class extends HTMLElement{constructor(e,r,n){super();xe(this,"$$ctor");xe(this,"$$s");xe(this,"$$c");xe(this,"$$cn",!1);xe(this,"$$d",{});xe(this,"$$r",!1);xe(this,"$$p_d",{});xe(this,"$$l",{});xe(this,"$$l_u",new Map);xe(this,"$$me");this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){let i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){let i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(i){return s=>{let o=document.createElement("slot");i!=="default"&&(o.name=i),Be(s,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=ya(this);for(let i of this.$$s)i in n&&(i==="default"&&!this.$$d.children?(this.$$d.children=e(i),r.default=!0):r[i]=e(i));for(let i of this.attributes){let s=this.$$g_p(i.name);s in this.$$d||(this.$$d[s]=di(s,i.value,this.$$p_d,"toProp"))}for(let i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=Gs({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=qr(()=>{B(()=>{var i;this.$$r=!0;for(let s of wn(this.$$c)){if(!((i=this.$$p_d[s])!=null&&i.reflect))continue;this.$$d[s]=this.$$c[s];let o=di(s,this.$$d[s],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,o)}this.$$r=!1})});for(let i in this.$$l)for(let s of this.$$l[i]){let o=this.$$c.$on(i,s);this.$$l_u.set(s,o)}this.$$l={}}}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=di(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return wn(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function di(t,e,r,n){var s;let i=(s=r[t])==null?void 0:s.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function ya(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var kr=require("obsidian");var Ce=function(t){return this._sizes=[],this._columns=[],this._container=null,this._count=null,this._width=0,this._removeListener=null,this._currentGutterX=null,this._currentGutterY=null,this._resizeTimeout=null,this.conf={baseWidth:255,gutterX:null,gutterY:null,gutter:10,container:null,minify:!0,ultimateGutter:5,surroundingGutter:!0,direction:"ltr",wedge:!1},this.init(t),this};Ce.prototype.init=function(t){for(var e in this.conf)t[e]!=null&&(this.conf[e]=t[e]);if((this.conf.gutterX==null||this.conf.gutterY==null)&&(this.conf.gutterX=this.conf.gutterY=this.conf.gutter),this._currentGutterX=this.conf.gutterX,this._currentGutterY=this.conf.gutterY,this._container=typeof this.conf.container=="object"&&this.conf.container.nodeName?this.conf.container:document.querySelector(this.conf.container),!this._container)throw new Error("Container not found or missing");var r=this.resizeThrottler.bind(this);window.addEventListener("resize",r),this._removeListener=function(){window.removeEventListener("resize",r),this._resizeTimeout!=null&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null)},this.layout()};Ce.prototype.reset=function(){this._sizes=[],this._columns=[],this._count=null,this._width=this._container.clientWidth;var t=this.conf.baseWidth;this._width<t&&(this._width=t,this._container.style.minWidth=t+"px"),this.getCount()==1?(this._currentGutterX=this.conf.ultimateGutter,this._count=1):this._width<this.conf.baseWidth+2*this._currentGutterX?this._currentGutterX=0:this._currentGutterX=this.conf.gutterX};Ce.prototype.getCount=function(){return this.conf.surroundingGutter?Math.floor((this._width-this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX)):Math.floor((this._width+this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX))};Ce.prototype.computeWidth=function(){var t;return this.conf.surroundingGutter?t=(this._width-this._currentGutterX)/this._count-this._currentGutterX:t=(this._width+this._currentGutterX)/this._count-this._currentGutterX,t=Number.parseFloat(t.toFixed(2)),t};Ce.prototype.layout=function(){if(!this._container){console.error("Container not found");return}this.reset(),this._count==null&&(this._count=this.getCount());for(var t=this.computeWidth(),e=0;e<this._count;e++)this._columns[e]=0;for(var r=this._container.children,n=0;n<r.length;n++)r[n].style.width=t+"px",this._sizes[n]=r[n].clientHeight;var i;if(this.conf.direction=="ltr"?i=this.conf.surroundingGutter?this._currentGutterX:0:i=this._width-(this.conf.surroundingGutter?this._currentGutterX:0),this._count>this._sizes.length){var s=this._sizes.length*(t+this._currentGutterX)-this._currentGutterX;this.conf.wedge===!1?this.conf.direction=="ltr"?i=(this._width-s)/2:i=this._width-(this._width-s)/2:this.conf.direction=="ltr"||(i=this._width-this._currentGutterX)}for(var o=0;o<r.length;o++){var a=this.conf.minify?this.getShortest():this.getNextColumn(o),l=0;(this.conf.surroundingGutter||a!=this._columns.length)&&(l=this._currentGutterX);var f;this.conf.direction=="ltr"?f=i+(t+l)*a:f=i-(t+l)*a-t;var u=this._columns[a];r[o].style.transform="translate3d("+Math.round(f)+"px,"+Math.round(u)+"px,0)",this._columns[a]+=this._sizes[o]+(this._count>1?this.conf.gutterY:this.conf.ultimateGutter)}this._container.style.height=this._columns[this.getLongest()]-this._currentGutterY+"px"};Ce.prototype.getNextColumn=function(t){return t%this._columns.length};Ce.prototype.getShortest=function(){for(var t=0,e=0;e<this._count;e++)this._columns[e]<this._columns[t]&&(t=e);return t};Ce.prototype.getLongest=function(){for(var t=0,e=0;e<this._count;e++)this._columns[e]>this._columns[t]&&(t=e);return t};Ce.prototype.resizeThrottler=function(){this._resizeTimeout||(this._resizeTimeout=setTimeout(function(){this._resizeTimeout=null,this._container.clientWidth!=this._width&&this.layout()}.bind(this),33))};Ce.prototype.destroy=function(){typeof this._removeListener=="function"&&this._removeListener();for(var t=this._container.children,e=0;e<t.length;e++)t[e].style.removeProperty("width"),t[e].style.removeProperty("transform");this._container.style.removeProperty("height"),this._container.style.removeProperty("min-width")};var Ke=require("obsidian");var Ri=require("obsidian");var tr=[];function Zs(t,e){return{subscribe:fe(t,e).subscribe}}function fe(t,e=G){let r=null,n=new Set;function i(a){if(Dt(t,a)&&(t=a,r)){let l=!tr.length;for(let f of n)f[1](),tr.push(f,t);if(l){for(let f=0;f<tr.length;f+=2)tr[f][0](tr[f+1]);tr.length=0}}}function s(a){i(a(t))}function o(a,l=G){let f=[a,l];return n.add(f),n.size===1&&(r=e(i,s)||G),a(t),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function rr(t,e,r){let n=!Array.isArray(t),i=n?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");let s=e.length<2;return Zs(r,(o,a)=>{let l=!1,f=[],u=0,c=G,p=()=>{if(u)return;c();let h=e(n?f[0]:f,o,a);s?o(h):c=typeof h=="function"?h:G},d=i.map((h,_)=>yr(h,y=>{f[_]=y,u&=~(1<<_),l&&p()},()=>{u|=1<<_}));return l=!0,p(),function(){tt(d),c(),l=!1}})}function nr(t){let e;return yr(t,r=>e=r)(),e}var $a=0,Hs=new WeakMap,Fe=class t{constructor({deserialize:e}={}){this.id=$a++,this.deserialize=e||(()=>{throw new Error("This node type doesn't define a deserialize function")})}static string(){return new t({deserialize:e=>e})}static number(){return new t({deserialize:Number})}static flag(){return new t({deserialize:()=>!0})}set(e,r){return e[this.id]=r,e}add(e){return typeof e!="function"&&(e=ee.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}};Fe.closedBy=new Fe({deserialize:t=>t.split(" ")});Fe.openedBy=new Fe({deserialize:t=>t.split(" ")});Fe.group=new Fe({deserialize:t=>t.split(" ")});var Oa=Object.create(null),ee=class t{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):Oa,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",r,e.id,n);if(e.props)for(let s of e.props)Array.isArray(s)||(s=s(i)),s&&s[0].set(r,s[1]);return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(Fe.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(Fe.group),s=-1;s<(i?i.length:0);s++){let o=r[s<0?n.name:i[s]];if(o)return o}}}};ee.none=new ee("",Object.create(null),0,8);var $r=class t{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let s of e){let o=s(n);o&&(i||(i=Object.assign({},n.props)),o[0].set(i,o[1]))}r.push(i?new ee(n.name,i,n.id,n.flags):n)}return new t(r)}},J=class{constructor(e,r,n,i){this.type=e,this.children=r,this.positions=n,this.length=i}toString(){let e=this.children.map(r=>r.toString()).join();return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(e,r=0){let n=e!=null&&Hs.get(this)||this.topNode,i=new Ct(n);return e!=null&&(i.moveTo(e,r),Hs.set(this,i._tree)),i}fullCursor(){return new Ct(this.topNode,!0)}get topNode(){return new Or(this,0,0,null)}resolve(e,r=0){return this.cursor(e,r).node}iterate(e){let{enter:r,leave:n,from:i=0,to:s=this.length}=e;for(let o=this.cursor();;){let a=!1;if(o.from<=s&&o.to>=i&&(o.type.isAnonymous||r(o.type,o.from,o.to)!==!1)){if(o.firstChild())continue;o.type.isAnonymous||(a=!0)}for(;a&&n&&n(o.type,o.from,o.to),a=o.type.isAnonymous,!o.nextSibling();){if(!o.parent())return;a=!0}}}balance(e=1024){return this.children.length<=xi?this:bi(this.type,ee.none,this.children,this.positions,0,this.children.length,0,e,this.length,0)}static build(e){return Ea(e)}};J.empty=new J(ee.none,[],[],0);function hi(t,e){return e&&(t.contextHash=e),t}var pt=class{constructor(e,r,n,i=ee.none){this.buffer=e,this.length=r,this.set=n,this.type=i}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,r,n,i){let{buffer:s}=this,o=-1;for(let a=e;a!=r;a=s[a+3])if(i!=-1e8){let l=s[a+1],f=s[a+2];if(n>0){if(f>i&&(o=a),f>i)break}else if(l<i&&(o=a),f>=i)break}else if(o=a,n>0)break;return o}},Or=class t{constructor(e,r,n,i){this.node=e,this.from=r,this.index=n,this._parent=i}get type(){return this.node.type}get name(){return this.node.type.name}get to(){return this.from+this.node.length}nextChild(e,r,n,i=!1){for(let s=this;;){for(let{children:o,positions:a}=s.node,l=r>0?o.length:-1;e!=l;e+=r){let f=o[e],u=a[e]+s.from;if(!(n!=-1e8&&(r<0?u>=n:u+f.length<=n))){if(f instanceof pt){let c=f.findChild(0,f.buffer.length,r,n==-1e8?-1e8:n-u);if(c>-1)return new Er(new _i(s,f,e,u),null,c)}else if(i||!f.type.isAnonymous||gi(f)){let c=new t(f,u,e,s);return i||!c.type.isAnonymous?c:c.nextChild(r<0?f.children.length-1:0,r,n)}}}if(i||!s.type.isAnonymous||(e=s.index+r,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,-1e8)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,-1e8)}childAfter(e){return this.nextChild(0,1,e)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null}get prevSibling(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null}get cursor(){return new Ct(this)}resolve(e,r=0){return this.cursor.moveTo(e,r).node}getChild(e,r=null,n=null){let i=an(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return an(this,e,r,n)}toString(){return this.node.toString()}};function an(t,e,r,n){let i=t.cursor,s=[];if(!i.firstChild())return s;if(r!=null){for(;!i.type.is(r);)if(!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}var _i=class{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}},Er=class t{constructor(e,r,n){this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e,r==-1e8?-1e8:r-this.context.start);return i<0?null:new t(this.context,this,i)}get firstChild(){return this.child(1,-1e8)}get lastChild(){return this.child(-1,-1e8)}childAfter(e){return this.child(1,e)}childBefore(e){return this.child(-1,e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,-1)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(r,this.index,-1,-1e8))}get cursor(){return new Ct(this)}resolve(e,r=0){return this.cursor.moveTo(e,r).node}toString(){return this.context.buffer.childString(this.index)}getChild(e,r=null,n=null){let i=an(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return an(this,e,r,n)}},Ct=class{constructor(e,r=!1){if(this.full=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Or)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Or?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enter(e,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,r,this.full));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,r==-1e8?-1e8:r-this.buffer.start);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enter(1,-1e8)}lastChild(){return this.enter(-1,-1e8)}childAfter(e){return this.enter(1,e)}childBefore(e){return this.enter(-1,e)}parent(){if(!this.buffer)return this.yieldNode(this.full?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.full?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree._parent.nextChild(this._tree.index+e,e,-1e8,this.full)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,-1e8))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,-1e8,this.full)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)for(let s=r+e,o=e<0?-1:n.node.children.length;s!=o;s+=e){let a=n.node.children[s];if(this.full||!a.type.isAnonymous||a instanceof pt||gi(a))return!1}return!0}move(e){if(this.enter(e,-1e8))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){return this.move(1)}prev(){return this.move(-1)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;!(r<0?!this.childBefore(e):!this.childAfter(e));)if(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e)){this.parent();break}return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;r=o,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)r=new Er(this.buffer,r,this.stack[i]);return this.bufferNode=new Er(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree.node}};function gi(t){return t.children.some(e=>!e.type.isAnonymous||e instanceof pt||gi(e))}var mi=class t{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t(this.buffer,this.index)}},xi=8;function Ea(t){var e;let{buffer:r,nodeSet:n,topID:i=0,maxBufferLength:s=1024,reused:o=[],minRepeatType:a=n.types.length}=t,l=Array.isArray(r)?new mi(r,r.length):r,f=n.types,u=0;function c(k,P,g,S,x){let{id:$,start:V,end:v,size:C}=l,R=V-k;if(C<0){C==-1?(g.push(o[$]),S.push(R)):u=$,l.next();return}let Q=f[$],D,M;if(v-V<=s&&(M=p(l.pos-P,x))){let j=new Uint16Array(M.size-M.skip),F=l.pos-M.size,A=j.length;for(;l.pos>F;)A=d(M.start,j,A,x);D=new pt(j,v-M.start,n,x<0?ee.none:f[x]),R=M.start-k}else{let j=l.pos-C;l.next();let F=[],A=[],Se=$>=a?$:-1;for(;l.pos>j;)l.id==Se?l.next():c(V,j,F,A,Se);F.reverse(),A.reverse(),Se>-1&&F.length>xi?D=bi(Q,Q,F,A,0,F.length,0,s,v-V,u):D=hi(new J(Q,F,A,v-V),u)}g.push(D),S.push(R)}function p(k,P){let g=l.fork(),S=0,x=0,$=0,V=g.end-s,v={size:0,start:0,skip:0};e:for(let C=g.pos-k;g.pos>C;){if(g.id==P){v.size=S,v.start=x,v.skip=$,$+=4,S+=4,g.next();continue}let R=g.size,Q=g.pos-R;if(R<0||Q<C||g.start<V)break;let D=g.id>=a?4:0,M=g.start;for(g.next();g.pos>Q;){if(g.size<0)break e;g.id>=a&&(D+=4),g.next()}x=M,S+=R,$+=D}return(P<0||S==k)&&(v.size=S,v.start=x,v.skip=$),v.size>4?v:void 0}function d(k,P,g,S){let{id:x,start:$,end:V,size:v}=l;if(l.next(),x==S)return g;let C=g;if(v>4){let R=l.pos-(v-4);for(;l.pos>R;)g=d(k,P,g,S)}return x<a&&(P[--g]=C,P[--g]=V-k,P[--g]=$-k,P[--g]=x),g}let h=[],_=[];for(;l.pos>0;)c(t.start||0,0,h,_,-1);let y=(e=t.length)!==null&&e!==void 0?e:h.length?_[0]+h[0].length:0;return new J(f[i],h.reverse(),_.reverse(),y)}function bi(t,e,r,n,i,s,o,a,l,f){let u=[],c=[];if(l<=a)for(let p=i;p<s;p++)u.push(r[p]),c.push(n[p]-o);else{let p=Math.max(a,Math.ceil(l*1.5/xi));for(let d=i;d<s;){let h=d,_=n[d];for(d++;d<s&&!(n[d]+r[d].length-_>p);d++);if(d==h+1){let y=r[h];if(y instanceof J&&y.type==e&&y.length>p<<1){for(let k=0;k<y.children.length;k++)u.push(y.children[k]),c.push(y.positions[k]+_-o);continue}u.push(y)}else if(d==h+1)u.push(r[h]);else{let y=bi(e,e,r,n,h,d,_,a,n[d-1]+r[d-1].length-_,f);e!=ee.none&&!Ta(y.children,e)&&(y=hi(new J(ee.none,y.children,y.positions,y.length),f)),u.push(y)}c.push(_-o)}}return hi(new J(t,u,c,l),f)}function Ta(t,e){for(let r of t)if(r.type==e)return!0;return!1}function yi(t){return new vi(t)}var vi=class t{constructor(e,r=e.length){this.string=e,this.length=r}get(e){return e<0||e>=this.length?-1:this.string.charCodeAt(e)}lineAfter(e){if(e<0)return"";let r=this.string.indexOf(`
`,e);return this.string.slice(e,r<0?this.length:Math.min(r,this.length))}read(e,r){return this.string.slice(e,Math.min(this.length,r))}clip(e){return new t(this.string,e)}};var $i=class t{constructor(e,r,n,i,s,o,a,l,f,u){this.p=e,this.stack=r,this.state=n,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=f,this.parent=u}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let i=e.parser.context;return new t(e,[],r,n,n,0,[],0,i?new ln(i,i.start):null,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let r=e>>19,n=e&65535,{parser:i}=this.p,s=i.dynamicPrecedence(n);if(s&&(this.score+=s),r==0){n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.pushState(i.getGoto(this.state,n,!0),this.reducePos),this.reduceContext(n);return}let o=this.stack.length-(r-1)*3-(e&262144?6:0),a=this.stack[o-2],l=this.stack[o-1],f=this.bufferBase+this.buffer.length-l;if(n<i.minRepeatTerm||e&131072){let u=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,a,u,f+4,!0)}if(e&262144)this.state=this.stack[o];else{let u=this.stack[o-3];this.state=i.getGoto(u,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n)}storeNode(e,r,n,i=4,s=!1){if(e==0){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(r==n)return;if(o.buffer[a-2]>=r){o.buffer[a-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,r,n,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=r,this.buffer[o+2]=n,this.buffer[o+3]=i}}shift(e,r,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)r<=this.p.parser.maxNode&&this.buffer.push(r,this.pos,n,4),this.pos=n;else{let i=this.pos,s=e,{parser:o}=this.p;(n>this.pos||r<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),r<=o.maxNode&&this.buffer.push(r,i,n,4),this.shiftContext(r)}}apply(e,r,n){e&65536?this.reduce(e):this.shift(e,r,n)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this.p.input,this))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=200}canShift(e){for(let r=new Oi(this);;){let n=this.p.parser.stateSlot(r.top,4)||this.p.parser.hasAction(r.top,e);if(!(n&65536))return!0;if(n==0)return!1;r.reduce(n)}}get ruleStart(){for(let e=this.state,r=this.stack.length;;){let n=this.p.parser.stateSlot(e,5);if(!(n&65536))return 0;if(r-=3*(n>>19),(n&65535)<this.p.parser.minRepeatTerm)return this.stack[r+1];e=this.stack[r]}}startOf(e,r){let n=this.state,i=this.stack.length,{parser:s}=this.p;for(;;){let o=s.stateSlot(n,5),a=o>>19,l=o&65535;if(e.indexOf(l)>-1){let f=i-3*(o>>19),u=this.stack[f+1];if(r==null||r>u)return u}if(i==0)return null;a==0?(i-=3,n=this.stack[i]):(i-=3*(a-1),n=s.getGoto(this.stack[i-3],l,!0))}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<r.length;s+=2)(o=r[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(r[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<r.length;s+=2){let o=r[s+1];i.some((a,l)=>l&1&&a==o)||i.push(r[s],o)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let s=r[i+1];if(s==this.state)continue;let o=this.split();o.storeNode(0,o.pos,o.pos,4,!0),o.pushState(s,this.pos),o.shiftContext(r[i]),o.score-=200,n.push(o)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);return e&65536?(this.p.parser.validAction(this.state,e)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100),this.reduce(e),!0):!1}forceAll(){for(;!this.p.parser.stateFlag(this.state,2)&&this.forceReduce(););return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this.p.input,this))}reduceContext(e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this.p.input,this))}emitContext(){let e=this.curContext;if(!e.tracker.strict)return;let r=this.buffer.length-1;(r<0||this.buffer[r]!=-2)&&this.buffer.push(e.hash,this.reducePos,this.reducePos,-2)}updateContext(e){if(e!=this.curContext.context){let r=new ln(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}},ln=class{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.hash(r)}},Ks;(function(t){t[t.Token=200]="Token",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Ks||(Ks={}));var Oi=class{constructor(e){this.stack=e,this.top=e.state,this.rest=e.stack,this.offset=this.rest.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=(n-1)*3;let i=this.stack.p.parser.getGoto(this.rest[this.offset-3],r,!0);this.top=i}},Ei=class t{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e){return new t(e,e.bufferBase+e.buffer.length,e.buffer.length)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new t(this.stack,this.pos,this.index)}},fn=class{constructor(){this.start=-1,this.value=-1,this.end=-1}accept(e,r){this.value=e,this.end=r}},St=class{constructor(e,r){this.data=e,this.id=r}token(e,r,n){ja(this.data,e,r,n,this.id)}};St.prototype.contextual=St.prototype.fallback=St.prototype.extend=!1;function ja(t,e,r,n,i){let s=0,o=1<<i,a=n.p.parser.dialect;e:for(let l=r.start;o&t[s];){let f=t[s+1];for(let c=s+3;c<f;c+=2)if((t[c+1]&o)>0){let p=t[c];if(a.allows(p)&&(r.value==-1||r.value==p||n.p.parser.overrides(p,r.value))){r.accept(p,l);break}}let u=e.get(l++);for(let c=0,p=t[s+2];c<p;){let d=c+p>>1,h=f+d+(d<<1),_=t[h],y=t[h+1];if(u<_)p=d;else if(u>=y)c=d+1;else{s=t[h+2];continue e}}break}}function Tr(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,i=0;n<t.length;){let s=0;for(;;){let o=t.charCodeAt(n++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}r?r[i++]=s:r=new e(s)}return r}var Pe=typeof process!="undefined"&&/\bparse\b/.test(process.env.LOG),wi=null;function Js(t,e,r){let n=t.cursor(e);for(;;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-5)):Math.min(t.length,Math.max(n.from+1,e+5));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}var Ti=class{constructor(e){this.fragments=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Js(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Js(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],o=this.start[r]+n.positions[i];if(o>e)return this.nextStart=o,null;if(o==e&&o+s.length<=this.safeTo)return o==e&&o>=this.safeFrom?s:null;s instanceof pt?(this.index[r]++,this.nextStart=o+s.length):(this.index[r]++,o+s.length>=e&&(this.trees.push(s),this.start.push(o),this.index.push(0)))}}},ki=class extends fn{constructor(){super(...arguments),this.extended=-1,this.mask=0,this.context=0}clear(e){this.start=e,this.value=this.extended=-1}},Pt=new fn,ji=class{constructor(e){this.tokens=[],this.mainToken=Pt,this.actions=[],this.tokens=e.tokenizers.map(r=>new ki)}getActions(e,r){let n=0,i=null,{parser:s}=e.p,{tokenizers:o}=s,a=s.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0;for(let f=0;f<o.length;f++){if(!(1<<f&a))continue;let u=o[f],c=this.tokens[f];if(!(i&&!u.fallback)&&((u.contextual||c.start!=e.pos||c.mask!=a||c.context!=l)&&(this.updateCachedToken(c,u,e,r),c.mask=a,c.context=l),c.value!=0)){let p=n;if(c.extended>-1&&(n=this.addActions(e,c.extended,c.end,n)),n=this.addActions(e,c.value,c.end,n),!u.extend&&(i=c,n>p))break}}for(;this.actions.length>n;)this.actions.pop();return i||(i=Pt,i.start=e.pos,e.pos==r.length?i.accept(e.p.parser.eofTerm,e.pos):i.accept(0,e.pos+1)),this.mainToken=i,this.actions}updateCachedToken(e,r,n,i){if(e.clear(n.pos),r.token(i,e,n),e.value>-1){let{parser:s}=n.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](i.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else n.pos==i.length?e.accept(n.p.parser.eofTerm,n.pos):e.accept(0,n.pos+1)}putAction(e,r,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=n,i}addActions(e,r,n,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let f=o.stateSlot(s,l?2:1);;f+=3){if(a[f]==65535)if(a[f+1]==1)f=Ze(a,f+2);else{i==0&&a[f+1]==2&&(i=this.putAction(Ze(a,f+1),r,n,i));break}a[f]==r&&(i=this.putAction(Ze(a,f+1),r,n,i))}return i}},eo;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=200]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit"})(eo||(eo={}));var un=class{constructor(e,r,n,i){this.parser=e,this.input=r,this.startPos=n,this.context=i,this.pos=0,this.recovering=0,this.nextStackID=9812,this.nested=null,this.nestEnd=0,this.nestWrap=null,this.reused=[],this.tokens=new ji(e),this.topTerm=e.top[1],this.stacks=[$i.start(this,e.top[0],this.startPos)];let s=i==null?void 0:i.fragments;this.fragments=s&&s.length?new Ti(s):null}advance(){if(this.nested){let a=this.nested.advance();return this.pos=this.nested.pos,a&&(this.finishNested(this.stacks[0],a),this.nested=null),null}let e=this.stacks,r=this.pos,n=this.stacks=[],i,s,o;for(let a=0;a<e.length;a++){let l=e[a],f;for(;;){if(l.pos>r)n.push(l);else if(f=this.checkNest(l))(!o||o.stack.score<l.score)&&(o=f);else{if(this.advanceStack(l,n,e))continue;{i||(i=[],s=[]),i.push(l);let u=this.tokens.mainToken;s.push(u.value,u.end)}}break}}if(o)return this.startNested(o),null;if(!n.length){let a=i&&Ca(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw Pe&&i&&console.log("Stuck with token "+this.parser.getName(this.tokens.mainToken.value)),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.runRecovery(i,s,n);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(n.length>a)for(n.sort((l,f)=>f.score-l.score);n.length>a;)n.pop();n.some(l=>l.reducePos>r)&&this.recovering--}else if(n.length>1)e:for(let a=0;a<n.length-1;a++){let l=n[a];for(let f=a+1;f<n.length;f++){let u=n[f];if(l.sameState(u)||l.buffer.length>200&&u.buffer.length>200)if((l.score-u.score||l.buffer.length-u.buffer.length)>0)n.splice(f--,1);else{n.splice(a--,1);continue e}}}this.pos=n[0].pos;for(let a=1;a<n.length;a++)n[a].pos<this.pos&&(this.pos=n[a].pos);return null}advanceStack(e,r,n){let i=e.pos,{input:s,parser:o}=this,a=Pe?this.stackID(e)+" -> ":"";if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let p=this.fragments.nodeAt(i);p;){let d=this.parser.nodeSet.types[p.type.id]==p.type?o.getGoto(e.state,p.type.id):-1;if(d>-1&&p.length&&(!u||(p.contextHash||0)==c))return e.useNode(p,d),Pe&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(p.type.id)})`),!0;if(!(p instanceof J)||p.children.length==0||p.positions[0]>0)break;let h=p.children[0];if(h instanceof J)p=h;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),Pe&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;let f=this.tokens.getActions(e,s);for(let u=0;u<f.length;){let c=f[u++],p=f[u++],d=f[u++],h=u==f.length||!n,_=h?e:e.split();if(_.apply(c,p,d),Pe&&console.log(a+this.stackID(_)+` (via ${c&65536?`reduce of ${o.getName(c&65535)}`:"shift"} for ${o.getName(p)} @ ${i}${_==e?"":", split"})`),h)return!0;_.pos>i?r.push(_):n.push(_)}return!1}advanceFully(e,r){let n=e.pos;for(;;){let i=this.checkNest(e);if(i)return i;if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return to(e,r),!0}}runRecovery(e,r,n){let i=null,s=!1,o;for(let a=0;a<e.length;a++){let l=e[a],f=r[a<<1],u=r[(a<<1)+1],c=Pe?this.stackID(l)+" -> ":"";if(l.deadEnd){if(s)continue;s=!0,l.restart(),Pe&&console.log(c+this.stackID(l)+" (restarted)");let h=this.advanceFully(l,n);if(h){h!==!0&&(o=h);continue}}let p=l.split(),d=c;for(let h=0;p.forceReduce()&&h<10;h++){Pe&&console.log(d+this.stackID(p)+" (via force-reduce)");let _=this.advanceFully(p,n);if(_){_!==!0&&(o=_);break}Pe&&(d=this.stackID(p)+" -> ")}for(let h of l.recoverByInsert(f))Pe&&console.log(c+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,n);this.input.length>l.pos?(u==l.pos&&(u++,f=0),l.recoverByDelete(f,u),Pe&&console.log(c+this.stackID(l)+` (via recover-delete ${this.parser.getName(f)})`),to(l,n)):(!i||i.score<l.score)&&(i=l)}if(i)return i;if(o){for(let a of this.stacks)if(a.score>o.stack.score){o=void 0;break}}return o&&this.startNested(o),null}forceFinish(){let e=this.stacks[0].split();return this.nested&&this.finishNested(e,this.nested.forceFinish()),this.stackToTree(e.forceAll())}stackToTree(e,r=e.pos){return this.parser.context&&e.emitContext(),J.build({buffer:Ei.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.startPos,length:r-this.startPos,minRepeatType:this.parser.minRepeatTerm})}checkNest(e){let r=this.parser.findNested(e.state);if(!r)return null;let n=r.value;return typeof n=="function"&&(n=n(this.input,e)),n?{stack:e,info:r,spec:n}:null}startNested(e){let{stack:r,info:n,spec:i}=e;this.stacks=[r],this.nestEnd=this.scanForNestEnd(r,n.end,i.filterEnd),this.nestWrap=typeof i.wrapType=="number"?this.parser.nodeSet.types[i.wrapType]:i.wrapType||null,i.startParse?this.nested=i.startParse(this.input.clip(this.nestEnd),r.pos,this.context):this.finishNested(r)}scanForNestEnd(e,r,n){for(let i=e.pos;i<this.input.length;i++)if(Pt.start=i,Pt.value=-1,r.token(this.input,Pt,e),Pt.value>-1&&(!n||n(this.input.read(i,Pt.end))))return i;return this.input.length}finishNested(e,r){this.nestWrap?r=new J(this.nestWrap,r?[r]:[],r?[0]:[],this.nestEnd-e.pos):r||(r=new J(ee.none,[],[],this.nestEnd-e.pos));let n=this.parser.findNested(e.state);e.useNode(r,this.parser.getGoto(e.state,n.placeholder,!0)),Pe&&console.log(this.stackID(e)+" (via unnest)")}stackID(e){let r=(wi||(wi=new WeakMap)).get(e);return r||wi.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}};function to(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}var Ci=class{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}};var cn=class t{constructor(e){if(this.bufferLength=1024,this.strict=!1,this.cachedDialect=null,e.version!=13)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (13)`);let r=Tr(e.tokenData),n=e.nodeNames.split(" ");this.minRepeatTerm=n.length,this.context=e.context;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,f){i[a].push([l,l.deserialize(String(f))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];for(let f=1;f<a.length;){let u=a[f++];if(u>=0)s(u,l,a[f++]);else{let c=a[f+-u];for(let p=-u;p>0;p--)s(a[f++],l,c);f++}}}if(this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let a=0;a<e.specialized.length;a++)this.specialized[a]=e.specialized[a].term,this.specializers[a]=e.specialized[a].get;this.states=Tr(e.states,Uint32Array),this.data=Tr(e.stateData),this.goto=Tr(e.goto);let o=Object.keys(e.topRules).map(a=>e.topRules[a][1]);this.nodeSet=new $r(n.map((a,l)=>ee.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:o.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new St(r,a):a),this.topRules=e.topRules,this.nested=(e.nested||[]).map(([a,l,f,u])=>({name:a,value:l,end:new St(Tr(f),0),placeholder:u})),this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}parse(e,r=0,n={}){typeof e=="string"&&(e=yi(e));let i=new un(this,e,r,n);for(;;){let s=i.advance();if(s)return s}}startParse(e,r=0,n={}){return typeof e=="string"&&(e=yi(e)),new un(this,e,r,n)}getGoto(e,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let s=i[r+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&n)return l;for(let f=s+(o>>1);s<f;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,r){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=n[s])==65535)if(n[s+1]==1)o=n[s=Ze(n,s+2)];else{if(n[s+1]==2)return Ze(n,s+2);break}if(o==r||o==0)return Ze(n,s+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}findNested(e){let r=this.stateSlot(e,0);return r&4?this.nested[r>>10]:null}validAction(e,r){if(r==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ze(this.data,n+2);else return!1;if(r==Ze(this.data,n+1))return!0}}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ze(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];r.some((s,o)=>o&1&&s==i)||r.push(this.data[n],i)}}return r}overrides(e,r){let n=ro(this.data,this.tokenPrecTable,r);return n<0||ro(this.data,this.tokenPrecTable,e)<n}configure(e){let r=Object.assign(Object.create(t.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.nested&&(r.nested=this.nested.map(n=>Object.prototype.hasOwnProperty.call(e.nested,n.name)?{name:n.name,value:e.nested[n.name],end:n.end,placeholder:n.placeholder}:n)),e.strict!=null&&(r.strict=e.strict),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get hasNested(){return this.nested.length>0}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){if(this.cachedDialect&&this.cachedDialect.source==e)return this.cachedDialect;let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let s of e.split(" ")){let o=r.indexOf(s);o>=0&&(n[o]=!0)}let i=null;for(let s=0;s<r.length;s++)if(!n[s])for(let o=this.dialects[r[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return this.cachedDialect=new Ci(e,n,i)}static deserialize(e){return new t(e)}};function Ze(t,e){return t[e]|t[e+1]<<16}function ro(t,e,r){for(let n=e,i;(i=t[n])!=65535;n++)if(i==r)return n-e;return-1}function Ca(t){let e=null;for(let r of t)r.pos==r.p.input.length&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r);return e}var no=cn.deserialize({version:13,states:"&rOVQPOOOOQO'#Cw'#CwO!QQPO'#CbO!QQPO'#CcO!QQPO'#CdO!QQPO'#CeO!QQPO'#CfO!]QPO'#CgO!bQPO'#ChOOQO'#Cx'#CxO#YQQO'#CiOOQO'#Cv'#CvOOQO'#Cu'#CuOVQPO'#CuO!bQPO'#CmOOQO'#Ct'#CtOOQO'#Co'#CoO#_QPO'#C^Q#lQPOOOOQO'#Cs'#CsOOQO,58|,58|OOQO,58},58}OOQO,59O,59OOOQO,59P,59POOQO,59Q,59QOOQO,59R,59ROOQO,59S,59SO#qQPO,59TO#yQPO,59aOOQO,59X,59XOOQO-E6m-E6mOVQPO,59YOOQO1G.o1G.oO$RQPO1G.oOOQO1G.{1G.{OOQO1G.t1G.tO$aQPO7+$ZOOQO'#Ck'#CkO$RQPO'#CkO$RQPO,59WOOQO<<Gu<<GuO$iQPO,59VOOQO1G.r1G.rOOQO1G.q1G.q",stateData:"%O~OfOS~ORPOSPOTPOmQOnROoSOpTOqUOrVOsWOtYOx]Oz^O~ORPOSPOTPO~ORiO~ORPOSPOTPOmQOnROoSOpTOqUOrVOsWOtYOx]O~O^kO~OdQXwQXyQX~PVOwoO~OupOvqO~OwoOyrO~ORPOSPOTPOxvO~OuxOwwO~OwwOy{O~OwTmnopqrsyRq~",goto:"$SmPPnPPPsssssss{P!T!^!cn!iPPP!q!z#Q#^#f{VcO]o]XOW]^ao]ZOW]^aoQtqQyvRzwVuqvwX_O]aoUaO]oRnaQbOQl]RsoX`O]aoW_O]aoQjWRm^][OW]^ao[ZOW]^aoQdQQeRQfSQgTQhUVuqvw",nodeNames:"\u26A0 Program And Word Quote Regex FileOperator PathOperator ContentOperator MatchCaseOperator IgnoreCaseOperator TagOperator LineOperator PropertyOperator PropertyName PropertyValueExpression PropertyValueOr Not Or",maxTerm:42,skippedNodes:[0],repeatNodeCount:1,tokenData:"!1d~RvOX#iXY&yYZ&yZ]#i]^&y^p#ipq&yqr#irs'[sx#ixy'yyz(jz}#i}!O)Z!O!P#i!P!Q)z!Q![#i![!]-h!]!q#i!q!r-m!r!}#i!}#O/y#O#P#i#P#Q0O#Q#V#i#V#W0m#W#Y#i#Y#Z9O#Z#]#i#]#^=t#^#`#i#`#aHm#a#bMc#b#d#i#d#e!)R#e#h#i#h#i!-w#i~#iR#n^^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q~$jR$q^^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q~$jP%rWRPOX%mZ]%m^p%mqx%mz}%m!O![%m!]#P%m#Q~%mQ&aW^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q~&[~'OSf~XY&yYZ&y]^&ypq&y~'_TOr'[rs'ns#O'[#O#P's#P~'[~'sOS~~'vPO~'[R(QWxP^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q~&[R(qW^QyPOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q~&[R)bWzP^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q~&[R*Pa^QOX)zXZ+UZ])z]^+U^p)zpq+Uqr)zrs+Us!P)z!P!Q+s!Q![)z![!]+U!]!})z!}#O+U#O#P,d#P#Q+U#Q~)zP+XTO!P+U!P!Q+h!Q#O+U#O#P+m#P~+UP+mOTPP+pPO~+UR+zW^QTPOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q~&[R,i_^QOX)zXZ+UZ])z]^+U^p)zpq+Uqr)zrs+Us![)z![!]+U!]!})z!}#O+U#O#P)z#P#Q+U#Q~)z~-mOv~R-r`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!t$j!t!u.t!u!}$j!}#O%m#O#P$j#Q~$jR.}^^QwPRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q~$j~0OOt~~0TWu~OX%mZ]%m^p%mqx%mz}%m!O![%m!]#P%m#Q~%mR0r`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#c$j#c#d1t#d~$jR1{`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#b$j#b#c2}#c~$jR3U`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#h$j#h#i4W#i~$jR4_`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#X$j#X#Y5a#Y~$jR5h`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#b$j#b#c6j#c~$jR6q`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#h$j#h#i7s#i~$jR7z_^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j![!]8y!]!}$j!}#O%m#O#P$j#Q~$jP9OOoPR9T`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#]$j#]#^:V#^~$jR:^`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#`$j#`#a;`#a~$jR;g`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#X$j#X#Y<i#Y~$jR<p_^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j![!]=o!]!}$j!}#O%m#O#P$j#Q~$jP=tOmPR=y`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#Z$j#Z#[>{#[~$jR?S`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#b$j#b#c@U#c~$jR@]`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#c$j#c#dA_#d~$jRAf`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#f$j#f#gBh#g~$jRBo`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#X$j#X#YCq#Y~$jRCx^^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!ODt!O![$j!]!}$j!}#O%m#O#P$j#Q~$jRDyY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#V&[#V#WEi#W~&[REnY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#T&[#T#UF^#U~&[RFcY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#g&[#g#hGR#h~&[RGWY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#X&[#X#YGv#Y~&[RG{X^QOX&[Z]&[^p&[qr&[s![&[![!]Hh!]!}&[#O#P&[#Q~&[PHmOqPRHr`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#]$j#]#^It#^~$jRI{`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#b$j#b#cJ}#c~$jRKU`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#X$j#X#YLW#Y~$jRL__^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j![!]M^!]!}$j!}#O%m#O#P$j#Q~$jPMcOsPRMh`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#T$j#T#UNj#U~$jRNq`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#h$j#h#i! s#i~$jR! z`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#V$j#V#W!!|#W~$jR!#T`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#[$j#[#]!$V#]~$jR!$^^^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O!%Y!O![$j!]!}$j!}#O%m#O#P$j#Q~$jR!%_Y^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#V&[#V#W!%}#W~&[R!&SY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#T&[#T#U!&r#U~&[R!&wY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#g&[#g#h!'g#h~&[R!'lY^QOX&[Z]&[^p&[qr&[s![&[!]!}&[#O#P&[#Q#X&[#X#Y!([#Y~&[R!(aX^QOX&[Z]&[^p&[qr&[s![&[![!]!(|!]!}&[#O#P&[#Q~&[P!)ROpPR!)W`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#T$j#T#U!*Y#U~$jR!*a`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#h$j#h#i!+c#i~$jR!+j`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#[$j#[#]!,l#]~$jR!,s_^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j![!]!-r!]!}$j!}#O%m#O#P$j#Q~$jP!-wOnPR!-|`^QOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#T$j#T#U!/O#U~$jR!/V`^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j!]!}$j!}#O%m#O#P$j#Q#Z$j#Z#[!0X#[~$jR!0`_^QRPOX$jZ]$j^p$jqr$jrs%msx$jxz&[z}$j}!O&[!O![$j![!]!1_!]!}$j!}#O%m#O#P$j#Q~$jP!1dOrP",tokenizers:[0,1],topRules:{Program:[0,1]},tokenPrec:171});var Pi=bo(require("assert"));function Pa(t,e){let r=[];if(!e.firstChild())return async()=>!0;for(r.push(Nt(t,e));e.nextSibling();)r.push(Nt(t,e));return e.parent(),async n=>(await Promise.all(r.map(i=>i(n)))).every(Boolean)}function Sa(t,e){let r=[];if(!e.firstChild())return async()=>!0;for(r.push(Nt(t,e));e.nextSibling();)r.push(Nt(t,e));return e.parent(),async n=>(await Promise.all(r.map(i=>i(n)))).some(Boolean)}function pn(t,e){if(e.firstChild(),e.node.type.name==="PropertyValueOr"){let n=[];for(e.firstChild(),n.push(pn(t,e));e.nextSibling();)n.push(pn(t,e));return e.parent(),e.parent(),async i=>(await Promise.all(n.map(s=>s(i)))).some(Boolean)}if(e.node.type.name==="PropertyValueExpression"){let n=pn(t,e);return e.parent(),n}let r=Rt(t,e);return e.parent(),async({key:n,frontmatter:i,caseSensitive:s})=>!!(i&&await r({content:i[n],caseSensitive:s}))}function Rt(t,e){if(e.node.type.name==="Word"||e.node.type.name==="Quote"){let r=e.node.type.name==="Quote"?t.slice(e.node.from+1,e.node.to-1):t.slice(e.node.from,e.node.to);return async({file:n,content:i,caseSensitive:s})=>!!(i&&(s?i.includes(r):i.toLowerCase().includes(r.toLowerCase())))||!!(n&&n.name&&(s?n.name.includes(r):n.name.toLowerCase().includes(r.toLowerCase())))}if(e.node.type.name==="Regex"){let r=t.slice(e.node.from+1,e.node.to-1),n=new RegExp(r);return async({file:i,content:s})=>!!(s&&n.test(s))||!!(i&&i.name&&n.test(i.name))}if(e.node.type.name==="FileOperator"){if(!e.firstChild())return async()=>!0;let r=Rt(t,e);return e.parent(),async({file:n,caseSensitive:i})=>!!(n&&n.name&&await r({content:n.name,caseSensitive:i}))}if(e.node.type.name==="PathOperator"){if(!e.firstChild())return async()=>!0;let r=Rt(t,e);return e.parent(),async({file:n,caseSensitive:i})=>!!(n&&n.path&&await r({content:n.path,caseSensitive:i}))}if(e.node.type.name==="ContentOperator"){if(!e.firstChild())return async()=>!0;let r=Rt(t,e);return e.parent(),async({content:n,caseSensitive:i})=>!!(n&&await r({content:n,caseSensitive:i}))}if(e.node.type.name==="MatchCaseOperator"){if(!e.firstChild())return async()=>!0;let r=Rt(t,e);return e.parent(),async({content:n})=>!!(n&&await r({content:n,caseSensitive:!0}))}if(e.node.type.name==="IgnoreCaseOperator"){if(!e.firstChild())return async()=>!0;let r=Rt(t.toLowerCase(),e);return e.parent(),async({content:n})=>!!(n&&r({content:n.toLowerCase()}))}if(e.node.type.name==="TagOperator"){let r=t.slice(e.node.from,e.node.to).replace(/^tag:/,"").replace(/^#/,"");return async({tags:n,caseSensitive:i})=>!!(n&&(i?n.includes(r):n.map(s=>s.toLowerCase()).includes(r.toLowerCase())))}if(e.node.type.name==="LineOperator"){if(!e.firstChild())return async()=>!0;let r=Nt(t,e);return e.parent(),async({content:n,caseSensitive:i})=>!!(n&&(await Promise.all(n.split(`
`).map(s=>r({content:s,caseSensitive:i})))).some(Boolean))}if(e.node.type.name==="PropertyOperator"){if(!e.firstChild())return async()=>!0;(0,Pi.default)(e.node.type.name==="PropertyName");let r=t.slice(e.node.from,e.node.to),n=async()=>!0;return e.nextSibling()&&((0,Pi.default)(e.node.type.name==="PropertyValueExpression"),n=pn(t,e)),e.parent(),async({frontmatter:i,caseSensitive:s})=>{if(!i)return!1;let o=Object.keys(i).filter(a=>s?a.includes(r):a.toLowerCase().includes(r.toLowerCase()));return o.length===0?!1:(await Promise.all(o.map(async a=>n({key:a,frontmatter:i,caseSensitive:s})))).some(Boolean)}}return e.parent(),async()=>!0}function Nt(t,e){if(e.node.type.name==="And")return Pa(t,e);if(e.node.type.name==="Or")return Sa(t,e);if(e.node.type.name==="Not"){e.firstChild();let r=Nt(t,e);return e.parent(),async n=>!await r(n)}return Rt(t,e)}function Si(t){let r=no.parse(t).cursor();return r.firstChild()?Nt(t,r):async()=>!0}var dn=fe(),Ni=fe(),dt=fe(),Ai=fe(),so=fe([]),ir=fe("mtime"),io=rr([ir,so,dt],([t,e,r])=>[...e].sort((n,i)=>(r.pinnedFiles.includes(i.path)?1:0)-(r.pinnedFiles.includes(n.path)?1:0)||i.stat[t]-n.stat[t]),[]),ht=fe(""),sr=fe(!1),oo=rr([dt,ht,sr,io,Ai,dn],([t,e,r,n,i,s],o)=>{let a=t.baseQuery?t.baseQuery+" "+e:e;if(a===""){o(n);return}let l=Si(a);Promise.all(n.map(async f=>{let u=await f.vault.cachedRead(f),c=((0,Ri.getAllTags)(i.getFileCache(f))||[]).map(d=>d.replace(/^#/,"")),p;return await s.fileManager.processFrontMatter(f,d=>{p=d}),l({file:f,content:u,tags:c,frontmatter:p,caseSensitive:r})})).then(f=>{o(n.filter((u,c)=>f[c]))})},nr(io)),ao=fe(50),hn=rr([oo,ao],([t,e])=>t.slice(0,e)),Ii=fe(!1),He=fe(!0),Di=rr([hn,Ai],([t,e])=>{let n=t.map(i=>(0,Ri.getAllTags)(e.getFileCache(i))||[]).flat().reduce((i,s)=>(i[s]=(i[s]||0)+1,i),{});return Object.keys(n).sort((i,s)=>n[s]-n[i])}),L={files:so,sort:ir,searchQuery:ht,searchCaseSensitive:sr,searchResultFiles:oo,displayedCount:ao,displayedFiles:hn,viewIsVisible:Ii,skipNextTransition:He,tags:Di,app:dn,view:Ni,settings:dt,appCache:Ai};var lo=(t,e,r)=>{try{t[e]=r}catch(s){}if(t[e]===r)return r;let n,i=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!0,configurable:!0};if(i.get)throw new Error(`Probably a wrong ides to overwrite ${String(e)} getter`);try{Object.defineProperty(t,e,{...i,value:r})}catch(s){n=s}if(t[e]!==r)throw n||new Error("Can't assign");return r};var _n=class extends Error{constructor(e){if(super("Wrong assertion encountered"+(e?`: "${e}"`:"")),this.originalMessage=e,Object.setPrototypeOf(this,new.target.prototype),!!this.stack)try{lo(this,"stack",this.stack.split(`
`).filter((...[,r])=>r!==1&&r!==2).join(`
`))}catch(r){}}},or;function mn(t,e){if(arguments.length===0&&(t=!0),or!==void 0){or=void 0;return}if(!t)throw new _n(typeof e=="function"?e():e)}var fo="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function vn(t){let e={};if(or!==void 0)throw or=void 0,new Error(fo);return or=e,Promise.resolve().then(()=>{if(or===e)throw new Error(fo)}),null}var Ra=async(t,e,r,n)=>{t.stopPropagation(),ci(dt,N(e).pinnedFiles=I(r)?e().pinnedFiles.filter(i=>i!==n.file.path):[...e().pinnedFiles,n.file.path],N(e)),n.updateLayoutNextTick(!0)},Na=async(t,e)=>{t.stopPropagation(),await e.file.vault.trash(e.file,!0),e.updateLayoutNextTick(!0)},uo=async(t,e,r)=>await e().workspace.getLeaf("tab").openFile(r.file),Aa=ft("<h1> </h1>"),Ia=ft('<div class="folder-name svelte-5xrbak"><span></span> </div>'),Da=ft('<div class="card svelte-5xrbak" role="link" tabindex="0"><!> <div></div> <div class="card-info svelte-5xrbak"><button class="clickable-icon svelte-5xrbak" aria-label="Pin file"></button> <!> <button class="clickable-icon" aria-label="Delete file"></button></div></div>'),Fa={hash:"svelte-5xrbak",code:`.card.svelte-5xrbak {position:absolute;background-color:var(--background-primary-alt);border:1px solid var(--background-modifier-border);padding:var(--card-padding);word-wrap:break-word;overflow-y:hidden;margin:0;transition-property:transform;transition-duration:0.4s;transform:translate(0, 100vh);}.card.skip-transition.svelte-5xrbak {transition:none;}.card.svelte-5xrbak {font-size:0.8rem;}.card.svelte-5xrbak p,
  .card.svelte-5xrbak ul {margin:0.3rem 0;}.card.svelte-5xrbak h1,
  .card.svelte-5xrbak h2,
  .card.svelte-5xrbak h3 {margin:0 0 0.3rem;}.card.svelte-5xrbak ul {padding-left:var(--size-4-5);}.card.svelte-5xrbak p:has(> span.image-embed):not(:has(br)) {margin:0;}.card.svelte-5xrbak span.image-embed {margin:0 calc(-1 * var(--card-padding));width:calc(100% + 2 * var(--card-padding));}

  /* Images embeds alone in a paragraph */.card.svelte-5xrbak p:has(> span.image-embed):not(:has(br)) span.image-embed {display:block;& img {display:block;}}

  /* Image embeds followed by line break in same paragraph */.card.svelte-5xrbak p:has(> span.image-embed):has(br) span.image-embed {display:inline-block;}

  /** Embed notes */.card.svelte-5xrbak p:has(> span.markdown-embed),
  .card.svelte-5xrbak .block-language-dataview {overflow:hidden;max-height:5rem;position:relative;}.card.svelte-5xrbak p:has(> span.markdown-embed) > .embed-shadow,
  .card.svelte-5xrbak .block-language-dataview > .embed-shadow {position:absolute;top:0;left:0;right:0;bottom:0;box-shadow:inset 0 -2rem 1rem -1rem var(--background-primary-alt);}.card.svelte-5xrbak:hover {border-color:var(--background-modifier-border-hover);}.card.svelte-5xrbak h3 {word-wrap:break-word;}.card.svelte-5xrbak .card-info:where(.svelte-5xrbak) {margin:calc(-1 * var(--card-padding));margin-top:0;border-top:1px solid var(--background-modifier-border);padding:var(--size-4-1) var(--card-padding);background-color:var(--background-primary);display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:var(--size-4-1);}.card.svelte-5xrbak .card-info:where(.svelte-5xrbak) .clickable-icon.is-active:where(.svelte-5xrbak) {color:var(--tab-text-color-focused-active);background-color:var(--background-modifier-hover);}.card.svelte-5xrbak .card-info:where(.svelte-5xrbak) .folder-name:where(.svelte-5xrbak) {flex-grow:1;display:flex;align-items:center;justify-content:center;gap:var(--size-4-1);color:var(--text-muted);}`};function Fi(t,e){kt(e,!0),xr(t,Fa);let r=wr(),n=()=>le(dt,"$settings",r),i=()=>le(dn,"$app",r),s=()=>le(Ni,"$view",r),o=()=>le(He,"$skipNextTransition",r),a,l=Vt(()=>n().pinnedFiles.includes(e.file.path)),f=Cn(!0);function u(v,C){var M,j,F,A,Se;if(C.sourcePath!==e.file.path||(n().displayTitle!="Both"&&v.children.length>0&&v.children[0].tagName==="H1"&&v.children[0].textContent&&(n().displayTitle=="Title"?se(f,!1):n().displayTitle=="Filename"&&v.children[0].remove()),v.children.length===0))return;for(let te=0;te<v.children.length;te++)(v.children[te].getElementsByClassName("internal-embed").length||v.children[te].className.includes("block-language-dataview"))&&(v.children[te].appendChild(document.createElement("div")).className="embed-shadow");let R=0,Q=0;do Q+=((j=(M=v.children[R])==null?void 0:M.textContent)==null?void 0:j.length)||0;while(R<v.children.length&&Q<200&&++R);for(let te=v.children.length-1;te>R;te--)(F=v.children[te])==null||F.remove();if(Q<200||!v.children[R].lastChild||((A=v.children[R].lastChild)==null?void 0:A.nodeType)!==Node.TEXT_NODE)return;let D=(Se=v.children[R].lastChild)==null?void 0:Se.textContent;if(D!=null){let te=v.children[R].lastChild;mn(!vn(te)),mn(!vn(D));let jr=Math.min(50,200-(Q-D.length));te.textContent=`${D.slice(0,jr)} ...`}}let c=async v=>{let C=await e.file.vault.cachedRead(e.file);Ke.MarkdownPreviewRenderer.registerPostProcessor(u),await Ke.MarkdownRenderer.render(i(),C,v,e.file.path,s()),Ke.MarkdownPreviewRenderer.unregisterPostProcessor(u)},p=v=>(0,Ke.setIcon)(v,"pin"),d=v=>(0,Ke.setIcon)(v,"trash"),h=v=>(0,Ke.setIcon)(v,"folder");on(()=>((async()=>(await c(a),e.updateLayoutNextTick(!1)))(),()=>e.updateLayoutNextTick(!1)));var _=Da();_.__click=[uo,i,e],_.__keydown=[uo,i,e];var y=Oe(_);{var k=v=>{var C=Aa(),R=Oe(C,!0);ce(C),ot(()=>Kt(R,e.file.basename)),Be(v,C)};rn(y,v=>{I(f)&&v(k)})}var P=me(y,2);br(P,v=>a=v,()=>a);var g=me(P,2),S=Oe(g);S.__click=[Ra,n,l,e],ct(S,v=>p==null?void 0:p(v));var x=me(S,2);{var $=v=>{var C=Ia(),R=Oe(C);ct(R,D=>h==null?void 0:h(D));var Q=me(R,1,!0);ce(C),ot(()=>Kt(Q,e.file.parent.path)),Be(v,C)};rn(x,v=>{e.file.parent!=null&&e.file.parent.path!=="/"&&v($)})}var V=me(x,2);V.__click=[Na,e],ct(V,v=>d==null?void 0:d(v)),ce(g),ce(_),ot(()=>{er(_,"skip-transition",o()),er(S,"is-active",I(l))}),Be(t,_),jt()}Zt(["click","keydown"]);var La=(t,e)=>de(ht,""),Qa=(t,e)=>{t.stopPropagation(),de(ht,"")},Ma=(t,e)=>de(sr,!e()),qa=(t,e)=>{t.stopPropagation(),de(sr,!e())},Ba=(t,e,r)=>de(ht,`tag:${I(r)}`),Va=ft('<button class="action-bar__tag svelte-1y01xi6"> </button>'),Xa=ft('<div class="action-bar svelte-1y01xi6"><button class="clickable-icon sort-button" aria-label="Sort"></button> <div class="action-bar__search svelte-1y01xi6"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false"> <div class="search-input-clear-button" role="button" tabindex="0"></div> <div class="input-right-decorator clickable-icon" aria-label="Case sensitive search" role="button" tabindex="0"></div></div></div> <div class="action-bar__tags svelte-1y01xi6"><div class="action-bar__tags__list svelte-1y01xi6"></div></div></div> <div class="cards-container svelte-1y01xi6"></div>',1),Ya={hash:"svelte-1y01xi6",code:`.action-bar.svelte-1y01xi6 {position:relative;display:flex;flex-direction:row-reverse;gap:var(--size-4-5);margin-bottom:var(--size-4-5);flex-wrap:wrap;
    @media screen and (min-width: 700px) {flex-wrap:nowrap;
    }}.action-bar.svelte-1y01xi6 .action-bar__tags:where(.svelte-1y01xi6) {flex-grow:1;-ms-overflow-style:none;scrollbar-width:none;white-space:nowrap;overflow:auto;&::-webkit-scrollbar {display:none;}

    @media screen and (min-width: 700px) {overflow:hidden;& .action-bar__tags__list:where(.svelte-1y01xi6) {transition:box-shadow 0.3s;}&:hover .action-bar__tags__list:where(.svelte-1y01xi6) {position:absolute;top:0;left:0;right:0;white-space:normal;z-index:var(--layer-popover);background-color:var(--background-primary);padding-bottom:var(--size-4-2);box-shadow:0 0 var(--size-2-3) var(--size-2-3)
          var(--background-primary);& button.action-bar__tag:where(.svelte-1y01xi6) {margin-bottom:var(--size-2-2);}}
    }}.action-bar.svelte-1y01xi6 button.action-bar__tag:where(.svelte-1y01xi6) {font-size:var(--tag-size);color:var(--tag-color);text-decoration:var(--tag-decoration);background-color:var(--tag-background);border:var(--tag-border-width) solid var(--tag-border-color);padding:var(--tag-padding-y) var(--tag-padding-x);border-radius:var(--tag-radius);font-weight:var(--tag-weight);margin-right:var(--size-2-2);&:hover {color:var(--tag-color-hover);text-decoration:var(--tag-decoration-hover);background-color:var(--tag-background-hover);border-color:var(--tag-border-color-hover);}}.action-bar.svelte-1y01xi6 .action-bar__search:where(.svelte-1y01xi6) {flex-grow:1;
    @media screen and (min-width: 700px) {min-width:300px;max-width:300px;box-shadow:calc(0px - var(--size-4-5)) 0 var(--size-2-3) var(--size-2-3)
        var(--background-primary);
    }}.cards-container.svelte-1y01xi6 {position:relative;container-type:inline-size;}.cards-container.svelte-1y01xi6 * {--card-padding: var(--size-4-3);--card-gutter: var(--size-4-5);}`};function zi(t,e){kt(e,!1),xr(t,Ya);let r=wr(),n=()=>le(ir,"$sort",r),i=()=>le(dt,"$settings",r),s=()=>le(He,"$skipNextTransition",r),o=()=>le(Ii,"$viewIsVisible",r),a=()=>le(ht,"$searchQuery",r),l=()=>le(sr,"$searchCaseSensitive",r),f=()=>le(Di,"$tags",r),u=()=>le(hn,"$displayedFiles",r),c,p=Pn(),d=j=>{(0,kr.setIcon)(j,"arrow-down-wide-narrow")},h=j=>{(0,kr.setIcon)(j,"case-sensitive")};function _(j){let F=new kr.Menu;F.addItem(A=>{A.setTitle("Last created"),A.setChecked(n()=="ctime"),A.onClick(async()=>{de(ir,"ctime")})}),F.addItem(A=>{A.setTitle("Last modified"),A.setChecked(n()=="mtime"),A.onClick(async()=>{de(ir,"mtime")})}),F.showAtMouseEvent(j)}on(()=>(c=new Ce({container:I(p),baseWidth:i().minCardWidth,gutter:20,surroundingGutter:!1,ultimateGutter:20}),de(He,!0),c.layout(),()=>{c.destroy()}));let y=null,k=()=>{if(y){clearTimeout(y),y=setTimeout(()=>{c.layout(),y&&clearTimeout(y)},100);return}c.layout(),y=setTimeout(()=>{y&&clearTimeout(y)},100)},P=(j=!1)=>{if(o())de(He,!j);else{de(He,!0);return}_r().then(k),de(He,!1)};ui();var g=Xa(),S=Rn(g),x=Oe(S);x.__click=_,ct(x,j=>d==null?void 0:d(j));var $=me(x,2),V=Oe($),v=Oe(V);oi(v);var C=me(v,2);C.__click=[La,a],C.__keydown=[Qa,a];var R=me(C,2);R.__click=[Ma,l],R.__keydown=[qa,l],ct(R,j=>h==null?void 0:h(j)),ce(V),ce($);var Q=me($,2),D=Oe(Q);nn(D,5,f,ni,(j,F)=>{var A=Va();A.__click=[Ba,a,F];var Se=Oe(A,!0);ce(A),ot(()=>Kt(Se,I(F))),Be(j,A)}),ce(D),ce(Q),ce(S);var M=me(S,2);nn(M,5,u,j=>j.path+j.stat.mtime,(j,F)=>{Fi(j,{get file(){return I(F)},updateLayoutNextTick:P})}),ce(M),br(M,j=>se(p,j),()=>I(p)),ot(()=>er(R,"is-active",l())),fi(v,a,j=>de(ht,j)),Be(t,g),jt()}Zt(["click","keydown"]);var ar="cards-view",gn=class extends At.ItemView{getViewType(){return ar}getDisplayText(){return"Cards View"}async onOpen(){let e=this.containerEl.children[1];L.view.set(this),L.files.set(this.app.vault.getMarkdownFiles()),this.registerEvent(this.app.vault.on("create",async r=>{this.app.workspace.layoutReady&&r instanceof At.TFile&&r.extension==="md"&&L.files.update(n=>n==null?void 0:n.concat(r))})),this.registerEvent(this.app.vault.on("delete",async r=>{r instanceof At.TFile&&r.extension==="md"&&L.files.update(n=>n==null?void 0:n.filter(i=>i.path!==r.path))})),this.registerEvent(this.app.vault.on("modify",async r=>{r instanceof At.TFile&&r.extension==="md"&&L.files.update(n=>n==null?void 0:n.map(i=>i.path===r.path?r:i))})),this.registerEvent(this.app.vault.on("rename",async(r,n)=>{r instanceof At.TFile&&r.extension==="md"&&L.files.update(i=>i==null?void 0:i.map(s=>s.path===n?r:s))})),Jt(zi,{target:e}),e.addEventListener("scroll",async()=>{e.scrollTop+e.clientHeight>e.scrollHeight-500&&(L.skipNextTransition.set(!0),L.displayedCount.set(nr(L.displayedFiles).length+50))}),this.app.workspace.on("active-leaf-change",()=>{var n;let r=this.app.workspace.getMostRecentLeaf(this.app.workspace.rootSplit);L.viewIsVisible.set(((n=r==null?void 0:r.view)==null?void 0:n.getViewType())===ar)})}async onClose(){L.viewIsVisible.set(!1),L.searchQuery.set(""),L.displayedCount.set(50),L.sort.set("mtime")}};var xn=class extends co.Plugin{constructor(){super(...arguments);this.settings=Object.assign({},bn)}async onload(){this.settings=Object.assign(this.settings,await this.loadData()),L.settings.subscribe(async()=>await this.saveSettings()),L.app.set(this.app),L.settings.set(this.settings),L.appCache.set(this.app.metadataCache),this.registerEvent(this.app.metadataCache.on("resolved",async()=>L.appCache.update(()=>this.app.metadataCache))),this.addSettingTab(new Sr(this.app,this)),this.addRibbonIcon("align-start-horizontal","Card view",()=>{this.activateView()}),this.addCommand({id:"cards-view-plugin",name:"Open card view",callback:()=>{this.activateView()}}),this.registerView(ar,r=>new gn(r)),this.app.workspace.onLayoutReady(()=>{this.settings.launchOnStart&&this.activateView()})}onunload(){}async activateView(){let{workspace:r}=this.app,n,i=r.getLeavesOfType(ar);i.length?n=i[0]:n=r.getLeaf("tab"),await n.setViewState({type:ar,active:!0}),L.viewIsVisible.set(!0)}async saveSettings(){await this.saveData(this.settings)}};

/* nosourcemap */