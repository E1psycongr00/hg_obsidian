# 간소화된 AI 기반 미연시 시스템 PRD

## 1. 개요

### 1.1. 제품명

AI Dating Sim CLI (가칭)

### 1.2. 목적

CLI(명령줄 인터페이스)를 통해 텍스트 기반으로 AI 캐릭터와 연애 중심의 대화를 나누는 시스템을 제공합니다. AI Agent와 RAG를 활용해 캐릭터의 성격과 지식을 반영한 자연스러운 대화를 구현하며, 일주일 내외의 개발 일정으로 최소 실행 가능 제품(MVP)을 구축합니다.

### 1.3. 목표

- CLI를 통한 텍스트 기반 AI 캐릭터와의 연애 대화 구현
- AI의 성격과 RAG 기반 지식을 활용한 몰입감 있는 상호작용 제공
- 사용자 입력에 따라 AI의 상태(호감도, 기분)가 변화하는 동적 시스템 구축
- 짧은 개발 일정(7일 내외)을 준수하며 핵심 기능에 집중

## 2. 기능 요구사항

### 2.1. 핵심 기능

#### 2.1.1. AI 캐릭터 정의

- **설명**: 단일 AI 캐릭터를 생성하며, 고유한 성격과 기본 지식을 부여.
- **세부사항**:
    - 캐릭터는 하나의 고정된 성격 프로필(예: 낙천적, 음악 애호가)과 간단한 배경 지식(예: 좋아하는 장르, 취미) 설정.
    - RAG를 활용해 캐릭터의 지식 데이터베이스(예: JSON 또는 텍스트 파일)를 참조하여 대화 생성.
    - 사용자 커스터마이징은 제외하여 개발 시간 단축.
- **예시**:
    - 캐릭터: "소피", 낙천적, 좋아하는 것: 팝 음악, 커피, 산책.

#### 2.1.2. CLI 텍스트 대화 시스템

- **설명**: CLI를 통해 사용자가 텍스트 입력으로 AI와 대화하며 관계를 발전.
- **세부사항**:
    - Python 기반 CLI 인터페이스 제공(예: input() 함수로 사용자 입력 수집).
    - AI Agent는 사용자 입력을 처리하고, RAG를 통해 캐릭터의 성격과 지식에 맞는 응답 생성.
    - 대화는 캐릭터의 성격과 상태(호감도, 기분)에 따라 달라짐.
    - 간단한 자연어 처리(예: 키워드 매칭 또는 경량 NLP 모델)로 사용자 의도 파악.
- **예시**:
    
    ```
    > 안녕, 소피! 오늘 기분이 어때?
    소피: 헤헤, 나 오늘 기분 최고야! 아침에 커피 한 잔 마셨거든. 너는 뭐해? 😊
    ```
    

#### 2.1.3. AI 상태 변화 시스템

- **설명**: 사용자와의 상호작용에 따라 AI의 상태가 동적으로 변화.
- **세부사항**:
    - 상태 파라미터: 호감도(0~~100), 기분(-50~~50).
    - 사용자 입력(예: 긍정적/부정적 키워드)에 따라 상태 업데이트.
    - 상태에 따라 응답 톤 변화(예: 높은 호감도 → 애정 어린 톤, 낮은 기분 → 퉁명스러운 톤).
- **예시**:
    - 사용자: "너 진짜 귀엽다!" → 호감도 +10, 기분 +5.
    - 사용자: "바쁜데 나중에 얘기해." → 호감도 -5, 기분 -10.

#### 2.1.4. RAG 기반 지식 활용

- **설명**: RAG를 통해 캐릭터의 지식 데이터베이스를 참조하여 대화의 깊이와 맥락을 강화.
- **세부사항**:
    - 지식 데이터베이스: 간단한 JSON 파일(예: {"취미": "팝 음악", "좋아하는_장소": "카페"})로 구성.
    - RAG는 사용자 입력과 관련된 지식을 검색해 응답에 반영.
    - 예: 사용자가 "음악"을 언급하면, 소피는 팝 음악 관련 대화로 확장.
- **예시**:
    
    ```
    > 음악 좋아해?
    소피: 오, 당연하지! 나는 팝 음악 완전 사랑해. 특히 테일러 스위프트 노래에 푹 빠졌어. 너는 어떤 음악 좋아해?
    ```
    

### 2.2. 부가 기능 (최소화)

#### 2.2.1. 대화 기록 저장

- 대화 로그를 텍스트 파일에 저장하여 세션 간 연속성 유지.
- 예: `conversation_log.txt`에 타임스탬프와 대화 기록 저장.

## 3. 비기능 요구사항

### 3.1. 성능

- 응답 시간: 사용자 입력 후 1~2초 내 응답.
- 경량 시스템: 로컬 환경에서 실행 가능한 최소 리소스 사용.

### 3.2. 개발 제약

- 개발 기간: 7일 내외.
- 단일 캐릭터 및 간단한 지식 데이터베이스에 집중.
- UI/UX는 CLI로 제한, 시각적 요소(이미지, GUI) 제외.

### 3.3. 보안

- 대화 데이터는 로컬 텍스트 파일에만 저장.
- 외부 네트워크 연결 최소화(로컬 RAG 모델 사용 권장).

## 4. 기술 스택

- **언어**: Python
- **AI Agent**: Grok API (xAI) 또는 경량 오픈소스 LLM (예: LLaMA 기반 모델)
- **RAG 구현**: LangChain 또는 간단한 키워드 검색 기반 RAG
- **데이터 저장**: JSON 파일(캐릭터 지식) + 텍스트 파일(대화 로그)
- **CLI 인터페이스**: Python `input()` 및 `print()` 함수
- **환경**: 로컬 실행, Pyodide 고려(브라우저 호환성, 선택 사항)

## 5. 성공 지표

- 7일 내 MVP 실행 가능 여부.
- 사용자 입력에 대한 AI 응답의 맥락 적합도 80% 이상(주관적 평가).
- 평균 대화 지속 시간: 10분 이상.
- 상태 변화 로직의 안정성(예: 호감도/기분 값의 예상 가능한 변화).

## 6. 개발 일정 (7일)

- **Day 1**: 요구사항 정리, 캐릭터 프로필 및 지식 데이터베이스 설계
- **Day 2-3**: RAG 시스템 및 AI Agent 통합, 대화 로직 구현
- **Day 4**: 상태 변화 시스템 개발(호감도, 기분)
- **Day 5**: CLI 인터페이스 구현, 대화 로그 저장 기능
- **Day 6**: 테스트 및 디버깅
- **Day 7**: 최종 점검, 사용자 피드백 준비

## 7. 리스크 및 완화 전략

- **리스크**: AI 응답의 품질이 낮거나 부자연스러움
    - **완화**: RAG 데이터베이스에 고품질 데이터 입력, 프롬프트 엔지니어링 최적화
- **리스크**: 개발 일정 초과
    - **완화**: 단일 캐릭터와 최소 기능에 집중, 복잡한 NLP 기능 단순화

## 8. 향후 확장 가능성

- 다중 캐릭터 지원 및 성격 커스터마이징
- GUI 또는 웹 기반 UI 추가
- 음성 입력/출력 통합 (Grok 3 음성 모드 활용)
- 더 풍부한 지식 데이터베이스 및 이벤트 시스템 추가